bt_ukr_dynasty = {
	slot = 1
	generic = no
	ai = yes
	potential = {
		OR = {
			tag = KIE #Kiev
			tag = UKR #Ruthenia
		}
		NOT = { map_setup = map_setup_random }
	}
	has_country_shield = yes
	
	ukr_invite_rurikids = {
		icon = mission_consolidate_the_state
		required_missions = { } #None
		position = 1
		provinces_to_highlight = { #Highlights capitals of potential nations
			is_capital = yes
			owner = {
				dynasty = "Rurikovich"
				religion_group = christian
			}
		}
		
		trigger = {
			NOT = { is_subject = yes }
			if = {
				limit = {
					any_country = {
						dynasty = "Rurikovich"
						religion_group = christian
					}
				}
				any_country = {
					dynasty = "Rurikovich"
					religion_group = christian
					has_opinion = {
						who = ROOT
						value = 100
					}
				}
			}
		}
		
		effect = {
			if = {
				limit = {
					any_country = {
						dynasty = "Rurikovich"
						religion_group = christian
						has_opinion = {
							who = ROOT
							value = 100
						}
					}
				}
				random_country = {
					limit = {
						dynasty = "Rurikovich"
						religion_group = christian
						has_opinion = {
							who = ROOT
							value = 100
						}
					}
					save_global_event_target_as = rurik_country
				}
				country_event = {
					id = "BeyondTypusRuthenianFlavour.3"
				}
			}
			else = {
				tooltip = {
					country_event = {
						id = "BeyondTypusRuthenianFlavour.3"
					}
				}
			}
		}
	}
}

bt_ukr_kiev_ruthenia = {
	slot = 1
	generic = no
	ai = yes
	potential = {
		OR = {
			tag = KIE #Kiev
			tag = UKR #Ruthenia
		}
		NOT = { map_setup = map_setup_random }
	}
	has_country_shield = yes
	
	ukr_restore_kiev = {
		icon = mission_restore_kiev
		required_missions = { ukr_declare_independence }
		position = 2
		provinces_to_highlight = {
			province_id = 280
		}
		
		trigger = {
			280 = {
				development = 25 #Intentionally the dev of Constantinople in 1444.
				num_of_buildings_in_province = 2
			}
		}
		
		effect = {
			add_legitimacy = 50
			add_prestige_or_monarch_power = { amount = 50 }
			if = { #Monarch now styles themselves Grand Kniaz if a Principality.
				limit = {
					has_reform = principality
				}
				custom_tooltip = ukr_restore_kiev_tooltip
			}
		}
		
	}
	
	ukr_reclaim_kievan_metropolitanate = {
		icon = mission_land_of_churches
		required_missions = { ukr_restore_kiev }
		position = 4
		provinces_to_highlight = {
			
		}
		
		trigger = {
			#Upgrade Pechersk monument
			patriarch_authority = 0.5
			280 = {
				has_state_patriach = yes
				if = {
					limit = {
						has_dlc = "Leviathan"
					}
					has_great_project = {
						type = kiev_pechersk_lavra
						tier = 2
					}
				}
			}
		}
		
		effect = {
			#Pechersk monument gives +0/1/3% missionary strength and +0/5/10% church loyalty modifier
			if = {
				limit = {
					has_dlc = "Leviathan"
				}
				custom_tooltip = ukr_reclaim_kievan_metropolitanate_tooltip
			}
			else = {
				280 = {
					add_province_modifier = {
						name = "bt_kievan_metropolitanate_no_dlc_mod"
						duration = -1
					}
				}
			}
		}
		
	}
	
	ukr_restore_ruthenia = {
		icon = mission_develop_kiev
		required_missions = { ukr_reclaim_kievan_metropolitanate ukr_reclaim_ruthenia }
		position = 5
		provinces_to_highlight = {
			region = ruthenia_region
		}
		
		trigger = {
			development_in_provinces = {
				value = 750 #Starts at 480 dev. Missions grant +15 dev as part of rewards. Lands will be decently cheap to develop as well.
				region = ruthenia_region
				religion = ROOT
			}
		}
		
		effect = {
			ruthenia_region = {
				add_province_modifier = {
					name = "bt_ukr_ruthenia_restored"
					duration = -1
				}
			}
		}
		
	}
}

bt_ukr_ruthenia_2 = {
	slot = 2
	generic = no
	ai = yes
	potential = {
		OR = {
			tag = KIE #Kiev
			tag = UKR #Ruthenia
		}
		NOT = { map_setup = map_setup_random }
	}
	has_country_shield = yes
	
	ukr_resettle_dniepr = {
		icon = mission_advance_to_the_dnieper
		required_missions = { ukr_restore_kiev }
		position = 3
		provinces_to_highlight = {
			OR = {
				area = west_dniepr_area
				area = east_dniepr_area
				area = chernigov_area
				area = zaporizhia_area
				area = lower_dnieper_area
			}
			OR = {
				AND = {
					culture = ruthenian
					NOT = { base_production = 4 }
					NOT = { has_building = farm_estate }
				}
				NOT = { culture = ruthenian }
			}
		}
		
		trigger = {
			calc_true_if = {
				west_dniepr_area = {
					type = all
					culture = ruthenian
					base_production = 4
					has_building = farm_estate
				}
				east_dniepr_area = {
					type = all
					culture = ruthenian
					base_production = 4
					has_building = farm_estate
				}
				chernigov_area = {
					type = all
					culture = ruthenian
					base_production = 4
					has_building = farm_estate
				}
				zaporizhia_area = {
					type = all
					culture = ruthenian
					base_production = 4
					has_building = farm_estate
				}
				lower_dnieper_area = {
					type = all
					culture = ruthenian
					base_production = 4
					has_building = farm_estate
				}
				amount = 15
			}
		}
		
		effect = {
			add_country_modifier = {
				name = "bt_ukr_resettled_dniepr"
				duration = -1
			}
			#Needs custom_tooltipping
			custom_tooltip = ukr_resettle_dniepr_tooltip
			ruthenia_region = {
				limit = {
					culture = ruthenian
					base_production = 4
					has_building = farm_estate
				}
				add_province_modifier = {
					name = "bt_ukr_flourishing_peasant_fields"
					duration = -1
				}
			}
			crimea_region = {
				limit = {
					culture = ruthenian
					base_production = 4
					has_building = farm_estate
				}
				add_province_modifier = {
					name = "bt_ukr_flourishing_peasant_fields"
					duration = -1
				}
			}
		}
		
	}
}

bt_ukr_baltic_conquest = {
	slot = 2
	generic = no
	ai = yes
	potential = {
		OR = {
			tag = KIE #Kiev
			tag = UKR #Ruthenia
		}
		NOT = { map_setup = map_setup_random }
	}
	has_country_shield = yes
	
	ukr_access_to_the_baltic = {
		icon = mission_conquer_riga
		required_missions = { ukr_reclaim_ruthenia }
		position = 5
		provinces_to_highlight = {
			province_group = ukr_access_to_the_baltic_provinces
			NOT = { country_or_non_sovereign_subject_holds = ROOT }
		}
		
		trigger = {
			owns = 38 #Riga
			has_fulfiled_num_of_province_requirement_for_mission_trigger = {
				tooltip=country_holds_or_non_sovereign_subject_holds_highlighted_num
				provinces=ukr_access_to_the_baltic_provinces
				owner_type=country_or_non_sovereign_subject_holds
				value=40 #out of 52.
			}
		}
		
		effect = {
			#Possibly trade stuff with Riga or something. Not sure.
			give_permaclaims_for_mission = { mission=ukr_conquer_poland }
		}
		
	}
	
	ukr_conquer_poland = {
		icon = mission_partition_poland
		required_missions = { ukr_access_to_the_baltic }
		position = 6
		provinces_to_highlight = {
			province_group = ukr_conquer_poland_provinces
			NOT = { country_or_non_sovereign_subject_holds = ROOT }
		}
		
		trigger = {
			owns = 262 #Krakow
			owns = 257 #Warsaw
			OR = {
				AND = {
					owns = 41 #Königsberg
					owns = 43 #Danzig
				}
				AND = {
					owns = 264 #Breslau
					owns = 263 #Ratibor
				}
			}
			has_fulfiled_num_of_province_requirement_for_mission_trigger = {
				tooltip=country_holds_or_non_sovereign_subject_holds_highlighted_num
				provinces=ukr_conquer_poland_provinces
				owner_type=country_or_non_sovereign_subject_holds
				value=58 #out of 83. #Logic is 55 allows for the combination of Poland-Prussia (64), or Poland-Silesia (58)
			}
			
		}
		
		effect = {
			add_accepted_culture_or_dip_power = { culture = polish dip_reward = yes }
			if = { #Prussian
				limit = {
					owns = 41
					owns = 43
				}
				add_accepted_culture_or_dip_power = { culture = prussian dip_reward = yes }
			}
			if = { #Silesian
				limit = {
					owns = 264
					owns = 263
				}
				add_accepted_culture_or_dip_power = { culture = schlesian dip_reward = yes }
			}
			#Free Polish accepted culture.
			#Depending on if owning Breslau/Ratibor or Königsberg/Danzig, give Silesian/Prussian as accepted culture
		}
		
	}
	
	ukr_reclaim_novgorod = {
		icon = mission_conquer_novgorod
		required_missions = { ukr_challenge_northern_rus }
		position = 7
		provinces_to_highlight = {
			province_group = ukr_reclaim_novgorod_provinces
			NOT = { country_or_non_sovereign_subject_holds = ROOT }
		}
		
		trigger = {
			owns = 310 #Novgorod
			owns = 274 #Pskov
			has_fulfiled_num_of_province_requirement_for_mission_trigger = {
				tooltip=country_holds_or_non_sovereign_subject_holds_highlighted_num
				provinces=ukr_reclaim_novgorod_provinces
				owner_type=country_or_non_sovereign_subject_holds
				value=40 #out of 53.
			}
		}
		
		effect = {
			#Some sort of bonus for Novgorod and possibly trade related stuff?
			310 = {
				add_base_tax = 1
				add_base_production = 1
				add_base_manpower = 1
			}
			274 = {
				add_base_tax = 1
				add_base_production = 1
				add_base_manpower = 1
			}
			give_permaclaims_for_mission = { mission=ukr_finnish_borderlands }
		}
		
	}
	
	ukr_finnish_borderlands = {
		icon = mission_conquer_finland
		required_missions = { ukr_reclaim_novgorod }
		position = 8
		provinces_to_highlight = {
			province_group = ukr_finnish_borderlands_provinces
			NOT = { country_or_non_sovereign_subject_holds = ROOT }
		}
		
		trigger = {
			owns = 27 #Turku
			owns = 28 #Helsinki
			has_fulfiled_num_of_province_requirement_for_mission_trigger = {
				tooltip=country_holds_or_non_sovereign_subject_holds_highlighted_num
				provinces=ukr_finnish_borderlands_provinces
				owner_type=country_or_non_sovereign_subject_holds
				value=17 #out of 22.
			}
		}
		
		effect = {
			if = {
				limit = { NOT = { exists = FIN } }
				country_event_with_insight = {
					id = flavor_rus.105
					insight_tooltip = mos_rus_conquer_finland_at
				}
			}
			else = {
				add_mil_power = 50
			}
		}
		
	}
}

bt_ukr_ruthenia_russia_conquest = {
	slot = 3
	generic = no
	ai = yes
	potential = {
		OR = {
			tag = KIE #Kiev
			tag = UKR #Ruthenia
		}
		NOT = { map_setup = map_setup_random }
	}
	has_country_shield = yes
	
	ukr_declare_independence = {
		icon = mission_conquer_tver
		required_missions = { } #None
		position = 1
		provinces_to_highlight = {
			
		}
		
		trigger = {
			is_subject = no
		}
		
		effect = {
			if = { #At -3 stab because independence without 100% LD
				limit = {
					NOT = { stability = -2 }
				}
				add_stability = 3
			}
			else = {
				add_stability = 1
			}
			give_permaclaims_for_mission = { mission=ukr_reclaim_chernigov }
			give_permaclaims_for_mission = { mission=ukr_restore_tmutarakan }
		}
		
	}
	
	ukr_reclaim_chernigov = {
		icon = mission_eastern_european_city
		required_missions = { ukr_declare_independence }
		position = 2
		provinces_to_highlight = {
			province_group = ukr_reclaim_chernigov_provinces
			NOT = { country_or_non_sovereign_subject_holds = ROOT }
		}
		
		trigger = {
			owns = 280 #Kiev
			owns = 289 #Chernigov
			owns = 2407 #Pereyaslavl
			has_fulfiled_num_of_province_requirement_for_mission_trigger = {
				tooltip=country_holds_or_non_sovereign_subject_holds_highlighted_num
				provinces=ukr_reclaim_chernigov_provinces
				owner_type=country_or_non_sovereign_subject_holds
				value=15 #out of 17. Kiev starts with 9 of them.
			}
		}
		
		effect = {
			280 = {
				add_base_tax = 1
				add_base_production = 1
				add_base_manpower = 1
			}
			289 = {
				add_base_tax = 1
				add_base_production = 1
				add_base_manpower = 1
			}
			2407 = {
				add_base_tax = 1
				add_base_production = 1
				add_base_manpower = 1
			}
			change_ruler_stat = {
				type = mil
				amount = 1
			}
			give_permaclaims_for_mission = { mission=ukr_reclaim_ruthenia }
		}
		
	}
	
	ukr_reclaim_ruthenia = {
		icon = mission_sovereign_principality
		required_missions = { ukr_reclaim_chernigov }
		position = 4
		provinces_to_highlight = {
			province_group = ukr_reclaim_ruthenia_provinces
			NOT = { country_or_non_sovereign_subject_holds = ROOT }
		}
		
		trigger = {
			owns = 280 #Kiev
			owns = 289 #Chernigov
			owns = 293 #Smolensk
			owns = 275 #Polotsk
			owns = 1941 #Turov
			owns = 279 #Volodimir
			owns = 261 #Halych
			owns = 2407 #Pereyaslavl
			has_fulfiled_num_of_province_requirement_for_mission_trigger = {
				tooltip=country_holds_or_non_sovereign_subject_holds_highlighted_num
				provinces=ukr_reclaim_ruthenia_provinces
				owner_type=country_or_non_sovereign_subject_holds
				value=90 #out of 129. Some of them are not owned by the PLC.
			}
		}
		
		effect = {
			293 = {
				add_base_tax = 1
				add_base_production = 1
				add_base_manpower = 1
			}
			275 = {
				add_base_tax = 1
				add_base_production = 1
				add_base_manpower = 1
			}
			1941 = {
				add_base_tax = 1
				add_base_production = 1
				add_base_manpower = 1
			}
			279 = {
				add_base_tax = 1
				add_base_production = 1
				add_base_manpower = 1
			}
			261 = {
				add_base_tax = 1
				add_base_production = 1
				add_base_manpower = 1
			}
			change_ruler_stat = {
				type = mil
				amount = 3
			}
			add_ruler_personality = conqueror_personality
			give_permaclaims_for_mission = { mission=ukr_access_to_the_baltic }
		}
		
	}
	
	ukr_challenge_northern_rus = {
		icon = mission_defeat_muscovy
		required_missions = { ukr_reclaim_ruthenia }
		position = 6
		provinces_to_highlight = {
			OR = {
				province_id = 295 #Moskva
				province_id = 310 #Novgorod
			}
		}
		
		trigger = {
			295 = {
				owner = {
					OR = {
						ROOT = { is_rival = PREV }
						AND = {
							NOT = { total_development = ROOT }
							NOT = { army_size = ROOT }
						}
						tag = ROOT
					}
				}
			}
			310 = {
				owner = {
					OR = {
						ROOT = { is_rival = PREV }
						AND = {
							NOT = { total_development = ROOT }
							NOT = { army_size = ROOT }
						}
						tag = ROOT
					}
				}
			}
		}
		
		effect = {
			give_permaclaims_for_mission = { mission=ukr_subjugate_moscow }
			give_permaclaims_for_mission = { mission=ukr_reclaim_novgorod }
		}
		
	}
	
	ukr_subjugate_moscow = {
		icon = mission_conquer_moscow
		required_missions = { ukr_challenge_northern_rus }
		position = 7
		provinces_to_highlight = {
			province_group = ukr_subjugate_moscow_provinces
			NOT = { country_or_non_sovereign_subject_holds = ROOT }
		}
		
		trigger = {
			owns = 295 #Moscow
			owns = 301 #Ryazan
			owns = 1754 #Murom
			owns = 4147 #Rostov
			owns = 1956 #Suzdal
			owns = 307 #Vladimir
			has_fulfiled_num_of_province_requirement_for_mission_trigger = {
				tooltip=country_holds_or_non_sovereign_subject_holds_highlighted_num
				provinces=ukr_subjugate_moscow_provinces
				owner_type=country_or_non_sovereign_subject_holds
				value=40 #out of 49.
			}
			
		}
		
		effect = {
			#Sack of Moscow, dev other cities
			295 = {
				add_base_tax = -5
				add_base_production = -5
				add_base_manpower = -5
			}
			301 = {
				add_base_tax = 2
				add_base_production = 2
				add_base_manpower = 2
			}
			1754 = {
				add_base_tax = 2
				add_base_production = 2
				add_base_manpower = 2
			}
			4147 = {
				add_base_tax = 2
				add_base_production = 2
				add_base_manpower = 2
			}
			1956 = {
				add_base_tax = 2
				add_base_production = 2
				add_base_manpower = 2
			}
			307 = {
				add_base_tax = 2
				add_base_production = 2
				add_base_manpower = 2
			}
		}
		
	}
	
	ukr_rebuild_principalities = {
		icon = mission_unite_the_princes
		required_missions = { ukr_subjugate_moscow ukr_reclaim_novgorod }
		position = 8
		provinces_to_highlight = {
			OR = { #15 provs
				province_id = 280 #Kiev
				province_id = 289 #Chernigov
				province_id = 293 #Smolensk
				province_id = 275 #Polotsk
				province_id = 1941 #Turov
				province_id = 279 #Volodymyr
				province_id = 261 #Halych
				province_id = 2407 #Pereyaslavl
				province_id = 295 #Moscow
				province_id = 301 #Ryazan
				province_id = 1754 #Murom
				province_id = 4147 #Rostov
				province_id = 1956 #Suzdal
				province_id = 307 #Vladimir
				province_id = 310 #Novgorod
				province_id = 274 #Pskov
			}
			OR = {
				NOT = {	development = 30 }
				NOT = {	num_of_buildings_in_province = 3 }
				NOT = {	owned_by = ROOT }
			}
		}
		
		trigger = {
			calc_true_if = {
				desc = "ukr_rebuild_principalities_tt"
				ruthenia_region = {
					type = all
					OR = { #A bit lazy here, just pasting the same trigger on both
						province_id = 280 #Kiev
						province_id = 289 #Chernigov
						province_id = 293 #Smolensk
						province_id = 275 #Polotsk
						province_id = 1941 #Turov
						province_id = 279 #Volodymyr
						province_id = 261 #Halych
						province_id = 2407 #Pereyaslavl
						province_id = 295 #Moscow
						province_id = 301 #Ryazan
						province_id = 1754 #Murom
						province_id = 4147 #Rostov
						province_id = 1956 #Suzdal
						province_id = 307 #Vladimir
						province_id = 310 #Novgorod
						province_id = 274 #Pskov
					}
					development = 30
					num_of_buildings_in_province = 3
					owned_by = ROOT
				}
				russia_region = {
					type = all
					OR = { #A bit lazy here, just pasting the same trigger on both
						province_id = 280 #Kiev
						province_id = 289 #Chernigov
						province_id = 293 #Smolensk
						province_id = 275 #Polotsk
						province_id = 1941 #Turov
						province_id = 279 #Volodymyr
						province_id = 261 #Halych
						province_id = 2407 #Pereyaslavl
						province_id = 295 #Moscow
						province_id = 301 #Ryazan
						province_id = 1974 #Murom
						province_id = 1754 #Rostov
						province_id = 1956 #Suzdal
						province_id = 307 #Vladimir
						province_id = 310 #Novgorod
						province_id = 274 #Pskov
					}
					development = 30
					num_of_buildings_in_province = 3
					owned_by = ROOT
				}
				amount = 8
			}
		}
		
		effect = {
			#Add provtrig modifier to cities that fulfil mission: So long as dev > 30, give unique bonuses for each one.
			custom_tooltip = ukr_rebuild_principalities_effect_tt
			hidden_effect = {
				280 = { #Kiev
					add_province_triggered_modifier = bt_kiev_principality
				}
				289 = { #Chernigov
					add_province_triggered_modifier = bt_chernigov_principality
				}
				293 = { #Smolensk
					add_province_triggered_modifier = bt_smolensk_principality
				}
				275 = { #Polotsk
					add_province_triggered_modifier = bt_polotsk_principality
				}
				1941 = { #Turov
					add_province_triggered_modifier = bt_turov_principality
				}
				279 = { #Volodymyr
					add_province_triggered_modifier = bt_volodymyr_principality
				}
				261 = { #Halych
					add_province_triggered_modifier = bt_halych_principality
				}
				2407 = { #Pereyaslavl
					add_province_triggered_modifier = bt_pereyaslavl_principality
				}
				295 = { #Moscow
					add_province_triggered_modifier = bt_moscow_principality
				}
				301 = { #Ryazan
					add_province_triggered_modifier = bt_ryazan_principality
				}
				1974 = { #Murom
					add_province_triggered_modifier = bt_murom_principality
				}
				1754 = { #Rostov
					add_province_triggered_modifier = bt_rostov_principality
				}
				1956 = { #Suzdal
					add_province_triggered_modifier = bt_suzdal_principality
				}
				307 = { #Vladimir
					add_province_triggered_modifier = bt_vladimir_principality
				}
				310 = { #Novgorod
					add_province_triggered_modifier = bt_novgorod_principality
				}
				274 = { #Pskov
					add_province_triggered_modifier = bt_pskov_principality
				}
			}
		}
		
	}
	
	ukr_mother_of_all_rus = {
		icon = mission_the_russian_tsardom
		required_missions = { ukr_rebuild_principalities }
		position = 9
		provinces_to_highlight = {
			owner = {
				NOT = { tag = ROOT }
				culture_group = east_slavic
				NOT = { is_subject_of = ROOT }
				#Technically need to account for unified slavic but honestly, I cannot be bothered. That fringe case will simply not happen if a country exists with this mission tree, unless a Russia decides to release a Kiev, but they need to be independent to get here so... ./shrug //Dub
			}
		}
		
		trigger = {
			custom_trigger_tooltip = {
				tooltip = ukr_mother_of_all_rus_tooltip
				NOT = {
					any_country = {
						NOT = { tag = ROOT }
						culture_group = east_slavic
						is_subject = no
					}
				}
			}
		}
		
		effect = {
			if = { #Much cooler than just a regular modifier.
				limit = {
					NOT = { tag = UKR } #You don't have UKR_ideas. I tried to check for having the idea set, but this thing just refused to accept that as a trigger.
				}
				add_country_modifier = {
					name = "bt_ukr_mother_of_all_rus"
					duration = -1
				}
			}
			else = {
				custom_tooltip = ukr_mother_of_all_rus_effect_tooltip
				hidden_effect = {
					swap_ideas = yes
				}
			}
		}
	}
}

bt_ukr_challenge_ottos = {
	slot = 4
	generic = no
	ai = yes
	potential = {
		OR = {
			tag = KIE #Kiev
			tag = UKR #Ruthenia
		}
		NOT = { map_setup = map_setup_random }
	}
	has_country_shield = yes
	
	ukr_restore_tmutarakan = {
		icon = mission_the_varangians
		required_missions = { ukr_declare_independence }
		position = 2
		provinces_to_highlight = {
			province_group = ukr_restore_tmutarakan_provinces
			NOT = { country_or_non_sovereign_subject_holds = ROOT }
		}
		
		trigger = {
			owns = 3245 #Kerch
			owns = 2447 #Tmutarakan
			has_fulfiled_num_of_province_requirement_for_mission_trigger = {
				tooltip=country_holds_or_non_sovereign_subject_holds_highlighted_num
				provinces=ukr_restore_tmutarakan_provinces
				owner_type=country_or_non_sovereign_subject_holds
				value=10 #out of 15.
			}
		}
		
		effect = {
			3245 = {
				add_base_tax = 1
				add_base_production = 1
				change_religion = ROOT
				change_culture = ROOT
			}
			2447 = {
				add_base_tax = 3
				add_base_production = 3
				add_base_manpower = 2
				change_religion = ROOT
				change_culture = ROOT
			}
		}
		
	}
	
	ukr_reconnect_with_constantinople = {
		icon = take_constantinople
		required_missions = { ukr_restore_tmutarakan }
		position = 3
		provinces_to_highlight = {
			province_id = 151 #Constantinople
		}
		
		trigger = {
			151 = { #Either you own Constantinople directly, indirectly, or you have 100 opinion with them.
				owner = {
					religion = orthodox
					OR = {
						alliance_with = ROOT
						tag = ROOT
						is_subject_of = ROOT
					}
				}
			}
		}
		
		effect = {
			if = { #Show rewards with tooltip
				limit = {
					NOT = {
						151 = {
							owner = {
								religion = orthodox
								OR = {
									alliance_with = ROOT
									tag = ROOT
									is_subject_of = ROOT
								}
							}
						}
					}
				}
				custom_tooltip = ukr_reconnect_with_constantinople_direct_conquest
				tooltip = {
					balkan_region = {
						limit = {
							NOT = { is_core = ROOT }
							NOT = { is_permanent_claim = ROOT }
							owned_by = TUR
						}
						add_permanent_claim = ROOT
					}
					hudavendigar_area = {
						limit = {
							NOT = { is_core = ROOT }
							NOT = { is_permanent_claim = ROOT }
							owned_by = TUR
						}
						add_permanent_claim = ROOT
					}
					karasi_area = {
						limit = {
							NOT = { is_core = ROOT }
							NOT = { is_permanent_claim = ROOT }
							owned_by = TUR
						}
						add_permanent_claim = ROOT
					}
					aydin_area = {
						limit = {
							NOT = { is_core = ROOT }
							NOT = { is_permanent_claim = ROOT }
							owned_by = TUR
						}
						add_permanent_claim = ROOT
					}
				}
				custom_tooltip = ukr_reconnect_with_constantinople_subject_conquest_or_friendly
				tooltip = {
					151 = {
						owner = {
							balkan_region = {
								limit = {
									NOT = { is_core = PREV }
									NOT = { is_permanent_claim = PREV }
									owned_by = TUR
								}
								add_permanent_claim = PREV
							}
							hudavendigar_area = {
								limit = {
									NOT = { is_core = PREV }
									NOT = { is_permanent_claim = PREV }
									owned_by = TUR
								}
								add_permanent_claim = PREV
							}
							karasi_area = {
								limit = {
									NOT = { is_core = PREV }
									NOT = { is_permanent_claim = PREV }
									owned_by = TUR
								}
								add_permanent_claim = PREV
							}
							aydin_area = {
								limit = {
									NOT = { is_core = PREV }
									NOT = { is_permanent_claim = PREV }
									owned_by = TUR
								}
								add_permanent_claim = PREV
							}
						}
					}
				}
			}
			else_if = {
				limit = {
					owns = 151
				}
				balkan_region = {
					limit = {
						NOT = { is_core = ROOT }
						NOT = { is_permanent_claim = ROOT }
						owned_by = TUR
					}
					add_permanent_claim = ROOT
				}
				hudavendigar_area = {
					limit = {
						NOT = { is_core = ROOT }
						NOT = { is_permanent_claim = ROOT }
						owned_by = TUR
					}
					add_permanent_claim = ROOT
				}
				karasi_area = {
					limit = {
						NOT = { is_core = ROOT }
						NOT = { is_permanent_claim = ROOT }
						owned_by = TUR
					}
					add_permanent_claim = ROOT
				}
				aydin_area = {
					limit = {
						NOT = { is_core = ROOT }
						NOT = { is_permanent_claim = ROOT }
						owned_by = TUR
					}
					add_permanent_claim = ROOT
				}
				set_country_flag = ukr_151_direct_conquest #Set what Ruthenia did to complete the mission for ukr_push_back_turk mission reward
			}
			else_if = {
				limit = {
					country_or_non_sovereign_subject_holds = 151
				}
				151 = {
					owner = {
						balkan_region = {
							limit = {
								NOT = { is_core = PREV }
								NOT = { is_permanent_claim = PREV }
								owned_by = TUR
							}
							add_permanent_claim = PREV
						}
						hudavendigar_area = {
							limit = {
								NOT = { is_core = PREV }
								NOT = { is_permanent_claim = PREV }
								owned_by = TUR
							}
							add_permanent_claim = PREV
						}
						karasi_area = {
							limit = {
								NOT = { is_core = PREV }
								NOT = { is_permanent_claim = PREV }
								owned_by = TUR
							}
							add_permanent_claim = PREV
						}
						aydin_area = {
							limit = {
								NOT = { is_core = PREV }
								NOT = { is_permanent_claim = PREV }
								owned_by = TUR
							}
							add_permanent_claim = PREV
						}
					}
				}
				set_country_flag = ukr_151_subject_conquest #Set what Ruthenia did to complete the mission for ukr_push_back_turk mission reward
			}
			else = {
				151 = {
					owner = {
						balkan_region = {
							limit = {
								NOT = { is_core = PREV }
								NOT = { is_permanent_claim = PREV }
								owned_by = TUR
							}
							add_permanent_claim = PREV
						}
						hudavendigar_area = {
							limit = {
								NOT = { is_core = PREV }
								NOT = { is_permanent_claim = PREV }
								owned_by = TUR
							}
							add_permanent_claim = PREV
						}
						karasi_area = {
							limit = {
								NOT = { is_core = PREV }
								NOT = { is_permanent_claim = PREV }
								owned_by = TUR
							}
							add_permanent_claim = PREV
						}
						aydin_area = {
							limit = {
								NOT = { is_core = PREV }
								NOT = { is_permanent_claim = PREV }
								owned_by = TUR
							}
							add_permanent_claim = PREV
						}
					}
				}
				set_country_flag = ukr_151_friendly #Set what Ruthenia did to complete the mission for ukr_push_back_turk mission reward
			}
		}
		
	}
	
	ukr_push_back_turk = {
		icon = geo_break_the_crescent_2
		required_missions = { ukr_reconnect_with_constantinople }
		position = 4
		provinces_to_highlight = {
			OR = {
				region = balkan_region
				area = hudavendigar_area
				area = karasi_area
				area = aydin_area
			}
			owned_by = TUR
			
		}
		
		trigger = {
			balkan_region = {
				type = all
				NOT = { owned_by = TUR }
			}
			hudavendigar_area = {
				type = all
				NOT = { owned_by = TUR }
			}
			karasi_area = {
				type = all
				NOT = { owned_by = TUR }
			}
			aydin_area = {
				type = all
				NOT = { owned_by = TUR }
			}
		}
		
		effect = {
			if = {
				limit = {
					has_country_flag = ukr_151_direct_conquest
				}
				anatolia_region = {
					if = {
						limit = {
							NOT = { is_core = ROOT }
							NOT = { is_permanent_claim = ROOT }
						}
					}
					add_permanent_claim = ROOT
				}
				add_country_modifier = {
					name = "bt_ukr_bane_of_turk"
					duration = -1
				}
			}
			if = {
				limit = {
					has_country_flag = ukr_151_subject_conquest
				}
				151 = {
					owner = {
						add_liberty_desire = -100
						add_trust = {
							who = ROOT
							value = 25
							mutual = yes
						}
					}
					add_base_tax = 3
					add_base_production = 3
					add_base_manpower = 2
				}
				add_country_modifier = {
					name = "bt_ukr_restored_second_rome"
					duration = -1
				}
			}
			if = {
				limit = {
					has_country_flag = ukr_151_friendly
				}
				151 = {
					owner = {
						add_trust = {
							who = ROOT
							value = 50
							mutual = yes
						}
						ROOT = {
							add_favors = {
							   who = PREV
							   amount = 50
							}
						}
					}
				}
				add_country_modifier = {
					name = "bt_ukr_banished_scourge_of_christendom"
					duration = -1
				}
			}
			else = {
				custom_tooltip = ukr_push_back_turk_tt
			}
		}
		
	}
	
	ukr_caucasus_border = {
		icon = mission_the_caucasus_rus
		required_missions = { ukr_break_tatar_yoke }
		position = 6
		provinces_to_highlight = {
			province_group = ukr_caucasus_border_provinces
			NOT = { country_or_non_sovereign_subject_holds = ROOT }
		}
		
		trigger = {
			owns = 2201 #Vladikavkaz
			has_fulfiled_num_of_province_requirement_for_mission_trigger = {
				tooltip=country_holds_or_non_sovereign_subject_holds_highlighted_num
				provinces=ukr_caucasus_border_provinces
				owner_type=country_or_non_sovereign_subject_holds
				value=10 #out of 13.
			}
		}
		
		effect = {
			caucasia_region = {
				limit = {
					NOT = { is_permanent_claim = ROOT }
				}
				add_permanent_claim = ROOT
			}
		}
		
	}
}

bt_ukr_steppe_conquests_1 = {
	slot = 5
	generic = no
	ai = yes
	potential = {
		OR = {
			tag = KIE #Kiev
			tag = UKR #Ruthenia
		}
		NOT = { map_setup = map_setup_random }
	}
	has_country_shield = yes
	
	ukr_amass_army = {
		icon = mission_early_russian_army
		required_missions = { } #None
		position = 1
		provinces_to_highlight = {
			
		}
		
		trigger = {
			army_size_percentage = 0.95
			land_forcelimit = 15
		}
		
		effect = {
			add_yearly_manpower = 2
		}
		
	}

	ukr_recruit_cossacks = {
		icon = mission_cossack_cavalry
		required_missions = { ukr_amass_army }
		position = 2
		provinces_to_highlight = {
			
		}
		
		trigger = { #10% of FL is Cossacks
			if = {
				limit = {
					has_dlc = "The Cossacks"
				}
				has_estate_privilege = estate_cossacks_establish_the_cossack_regiments
				if = {
					limit = {
						land_forcelimit = 100
					}
					num_of_cossacks = 10
				}
				else_if = {
					limit = {
						land_forcelimit = 90
					}
					num_of_cossacks = 9
				}
				else_if = {
					limit = {
						land_forcelimit = 80
					}
					num_of_cossacks = 8
				}
				else_if = {
					limit = {
						land_forcelimit = 70
					}
					num_of_cossacks = 7
				}
				else_if = {
					limit = {
						land_forcelimit = 60
					}
					num_of_cossacks = 6
				}
				else_if = {
					limit = {
						land_forcelimit = 50
					}
					num_of_cossacks = 5
				}
				else_if = {
					limit = {
						land_forcelimit = 40
					}
					num_of_cossacks = 4
				}
				else_if = {
					limit = {
						land_forcelimit = 30
					}
					num_of_cossacks = 3
				}
				else_if = {
					limit = {
						land_forcelimit = 20
					}
					num_of_cossacks = 2
				}
				else = {
					num_of_cossacks = 1
				}
			}
			else = {
				cavalry_fraction = 0.2 #Because... well... yeah.
			}
		}
		
		effect = {
			#Prov modifier to owned Sunni provinces in Pontic Steppe, giving miss. strength
			crimea_region = {
				limit = {
					country_or_non_sovereign_subject_holds = ROOT
				}
				add_province_modifier = {
					name = "convert_the_steppes"
					duration = 5475
				}
			}
		}
		
	}
	
	ukr_permanent_cossack_host = {
		icon = mission_recruit_the_cossacks
		required_missions = { ukr_recruit_cossacks }
		position = 3
		provinces_to_highlight = {
			region = crimea_region
			owned_by = ROOT
			NOT = { religion = orthodox }
		}
		
		trigger = {
			283 = {
				owned_by = ROOT
				religion = orthodox
			}
			calc_true_if = {
				crimea_region = {
					type = all
					religion = orthodox
					owned_by = ROOT
					NOT = {
						area = crimea_area
						area = azov_area
					}
				}
				amount = 10
			}
		}
		
		effect = {
			custom_tooltip = ukr_permanent_cossack_host_tooltip
			hidden_effect = {
				crimea_region = {
					limit = {
						owned_by = ROOT
						religion = orthodox
						NOT = { culture = ruthenian }
					}
					change_culture = ruthenian
				}
			}
			country_event_with_insight = {
				id = BeyondTypusRuthenianFlavour.1
				insight_tooltip = ukr_permanent_cossack_host_insight
			}
		}
		
	}
	
	ukr_claim_wild_fields = {
		icon = mission_destroy_the_horde
		required_missions = { ukr_permanent_cossack_host }
		position = 4
		provinces_to_highlight = {
			province_group = ukr_claim_wild_fields_provinces
			NOT = { country_or_non_sovereign_subject_holds = ROOT }
		}
		
		trigger = {
			has_fulfiled_num_of_province_requirement_for_mission_trigger = {
				tooltip=country_holds_or_non_sovereign_subject_holds_highlighted_num
				provinces=ukr_claim_wild_fields_provinces
				owner_type=country_or_non_sovereign_subject_holds
				value=30 #out of 39.
			}
		}
		
		effect = {
			crimea_region = {
				limit = {
					country_or_non_sovereign_subject_holds = ROOT
				}
				add_province_modifier = {
					name = "convert_the_steppes"
					duration = 5475
				}
			}
			give_permaclaims_for_mission = { mission=ukr_break_tatar_yoke }
		}
		
	}

	ukr_break_tatar_yoke = {
		icon = mission_break_the_tatar_yoke
		required_missions = { ukr_claim_wild_fields ukr_reclaim_ruthenia }
		position = 5
		provinces_to_highlight = {
			province_group = ukr_break_tatar_yoke_provinces
			NOT = { country_or_non_sovereign_subject_holds = ROOT }
		}
		
		trigger = {
			has_fulfiled_num_of_province_requirement_for_mission_trigger = {
				tooltip=country_holds_or_non_sovereign_subject_holds_highlighted_num
				provinces=ukr_break_tatar_yoke_provinces
				owner_type=country_or_non_sovereign_subject_holds
				value=25 #out of 33.
			}
		}
		
		effect = {
			ural_region = {
				limit = {
					country_or_non_sovereign_subject_holds = ROOT
				}
				add_province_modifier = {
					name = "convert_the_steppes"
					duration = 5475
				}
			}
			if = {
				limit = {
					has_dlc = "Third Rome"
					has_dlc = "The Cossacks"
				}
				custom_tooltip = ukr_break_tatar_yoke_tooltip
			}
			#Enable Cossack estate privilege to establish Siberian Frontiers.
			west_siberia_region = {
				limit = {
					NOT = { is_core = ROOT }
					NOT = { is_permanent_claim = ROOT }
				}
				add_permanent_claim = ROOT
			}
			give_permaclaims_for_mission = { mission=ukr_caucasus_border }
		}
		
	}
	
	ukr_venture_east = {
		icon = mission_beyond_the_urals
		required_missions = { ukr_break_tatar_yoke }
		position = 3
		provinces_to_highlight = {
			region = west_siberia_region
			has_discovered = ROOT
			NOT = {
				country_or_non_sovereign_subject_holds = ROOT
			}
		}
		
		trigger = {
			num_of_owned_provinces_with = {
				region = west_siberia_region
				value = 15
			}
			
		}
		
		effect = {
			add_dip_power = 100
			define_conquistador = {
				name = "Yermak Tymofiyovych" #Google-translated Russian into Ukrainian. Sue me if it's wrong.
				shock = 6
				fire = 6
				manuever = 5
				siege = 0
			}
		}
		
	}
}

#Internals
bt_ukr_navy = {
	slot = 1
	generic = no
	ai = yes
	potential = {
		tag = UKR #Ruthenia
		NOT = { map_setup = map_setup_random }
	}
	has_country_shield = yes
	
	ukr_black_sea_navy = {
		icon = mission_russian_navy
		required_missions = { ukr_centralized_state }
		position = 11
		provinces_to_highlight = {
			OR = {
				province_id = 282
				province_id = 7201
				province_id = 2410
				province_id = 285
				province_id = 7203
				province_id = 2195
			}
			OR = {
				NOT = { has_dock_building_trigger = yes }
				NOT = { has_shipyard_building_trigger = yes }
				NOT = { owned_by = ROOT }
				
			}
		}
		
		trigger = {
			OR = {
				282 = { #Odessa, current base of Ukraine navy
					has_dock_building_trigger = yes
					has_shipyard_building_trigger = yes
					owned_by = ROOT
				}
				7201 = { #Mariupol, where parts of Ukraine navy moved after 2014
					has_dock_building_trigger = yes
					has_shipyard_building_trigger = yes
					owned_by = ROOT
				}
				2410 = { #Sevastopol, classical Russian naval base
					has_dock_building_trigger = yes
					has_shipyard_building_trigger = yes
					owned_by = ROOT
				}
				285 = { #Yevpatoria, alternate Russian naval base
					has_dock_building_trigger = yes
					has_shipyard_building_trigger = yes
					owned_by = ROOT
				}
				7203 = { #Taganrog, apparently an alternative Russian naval base
					has_dock_building_trigger = yes
					has_shipyard_building_trigger = yes
					owned_by = ROOT
				}
				2195 = { #Novorossiysk, also an alternative Russian naval base
					has_dock_building_trigger = yes
					has_shipyard_building_trigger = yes
					owned_by = ROOT
				}
			}
			num_of_galley = 30
			num_of_heavy_ship = 3
		}
		
		effect = {
			add_navy_tradition = 20
			if = {
				limit = {
					282 = { #Odessa, current base of Ukraine navy
						has_dock_building_trigger = yes
						has_shipyard_building_trigger = yes
						owned_by = ROOT
					}
				}
				282 = {
					add_base_tax = 2
					add_base_production = 2
					add_base_manpower = 2
					add_province_modifier = {
						name = "bt_ukr_black_sea_naval_base"
						duration = -1
					}
				}
			}
			else_if = {
				limit = {
					7201 = { #Mariupol, where parts of Ukraine navy moved after 2014
						has_dock_building_trigger = yes
						has_shipyard_building_trigger = yes
						owned_by = ROOT
					}
				}
				7201 = {
					add_base_tax = 2
					add_base_production = 2
					add_base_manpower = 2
					add_province_modifier = {
						name = "bt_ukr_black_sea_naval_base"
						duration = -1
					}
				}
			}
			else_if = {
				limit = {
					2410 = { #Sevastopol, classical Russian naval base
						has_dock_building_trigger = yes
						has_shipyard_building_trigger = yes
						owned_by = ROOT
					}
				}
				2410 = {
					add_base_tax = 2
					add_base_production = 2
					add_base_manpower = 2
					add_province_modifier = {
						name = "bt_ukr_black_sea_naval_base"
						duration = -1
					}
				}
			}
			else_if = {
				limit = {
					285 = { #Yevpatoria, alternate Russian naval base
						has_dock_building_trigger = yes
						has_shipyard_building_trigger = yes
						owned_by = ROOT
					}
				}
				285 = {
					add_base_tax = 2
					add_base_production = 2
					add_base_manpower = 2
					add_province_modifier = {
						name = "bt_ukr_black_sea_naval_base"
						duration = -1
					}
				}
			}
			else_if = {
				limit = {
					7203 = { #Taganrog, apparently an alternative Russian naval base
						has_dock_building_trigger = yes
						has_shipyard_building_trigger = yes
						owned_by = ROOT
					}
				}
				7203 = {
					add_base_tax = 2
					add_base_production = 2
					add_base_manpower = 2
					add_province_modifier = {
						name = "bt_ukr_black_sea_naval_base"
						duration = -1
					}
				}
			}
			else_if = {
				limit = {
					2195 = { #Novorossiysk, also an alternative Russian naval base
						has_dock_building_trigger = yes
						has_shipyard_building_trigger = yes
						owned_by = ROOT
					}
				}
				2195 = {
					add_base_tax = 2
					add_base_production = 2
					add_base_manpower = 2
					add_province_modifier = {
						name = "bt_ukr_black_sea_naval_base"
						duration = -1
					}
				}
			}
			else = {
				custom_tooltip = ukr_black_sea_navy_tooltip
			}
		}
		
	}
	
	ukr_navy_of_the_intermarum = {
		icon = mission_rb_grow_the_channel
		required_missions = { ukr_black_sea_navy }
		position = 12
		provinces_to_highlight = {
			
		}
		
		trigger = {
			43 = { #Danzig
				trade_share = {
					country = ROOT
					share = 60
				}
				light_ships_in_province = 30
			}
			33 = { #Novgorod
				trade_share = {
					country = ROOT
					share = 60
				}
			}
		}
		
		effect = {
			add_country_modifier = {
				name = "bt_ukr_navy_of_the_intermarum"
				duration = -1
			}
		}
		
	}
}

bt_ukr_production = {
	slot = 2
	generic = no
	ai = yes
	potential = {
		tag = UKR #Ruthenia
		NOT = { map_setup = map_setup_random }
	}
	has_country_shield = yes
	
	ukr_means_of_production = {
		icon = mission_state_manufactories
		required_missions = { ukr_centralized_state }
		position = 11
		provinces_to_highlight = {
			OR = {
				AND = {
					NOT = { has_building = farm_estate }
					OR = {
						trade_goods = grain
						trade_goods = livestock
						trade_goods = wine
						trade_goods = bt_trade_good_beer
						trade_goods = bt_trade_good_fruit
						trade_goods = bt_trade_good_apiculture
					}
					NOT = { owner = { farm_estate = 25 } } #Stop highlighting grain provinces if this trigger is fulfilled
				}
				AND = {
					NOT = { has_building = weapons }
					OR = {
						trade_goods = copper
						trade_goods = iron
					}
					NOT = { owner = { weapons = 10 } } #Stop highlighting grain provinces if this trigger is fulfilled
					NOT = { owner = { textile = 10 } } #Stop highlighting grain provinces if this trigger is fulfilled
				}
				AND = {
					NOT = { has_building = textile }
					OR = {
						trade_goods = wool
						trade_goods = cloth
						trade_goods = silk
						trade_goods = dyes
						trade_goods = bt_trade_good_books
					}
					NOT = { owner = { weapons = 10 } } #Stop highlighting grain provinces if this trigger is fulfilled
					NOT = { owner = { textile = 10 } } #Stop highlighting grain provinces if this trigger is fulfilled
				}
			}
			owned_by = ROOT
		}
		
		trigger = {
			farm_estate = 25
			OR = {
				weapons = 10
				textile = 10
			}
		}
		
		effect = {
			add_years_of_owned_provinces_production_income = {
				years = 5
				trigger = {
					OR = {
						has_building = farm_estate
						has_building = weapons
						has_building = textile
					}
				}
				custom_tooltip = ukr_income_from_means_of_production
			}
		}
		
	}
	
	ukr_production_of_vodka = {
		icon = mission_vodka_monopoly
		required_missions = { ukr_means_of_production }
		position = 12
		provinces_to_highlight = {
			trade_goods = grain
			owned_by = ROOT
		}
		
		trigger = {
			production_leader = {
				trade_goods = grain
			}
			trade_goods_produced_amount = {
				trade_goods = grain
				amount = 50 #500 production dev worth of grain, modified by production efficiency and goods produced. Should be easy if Ruthenia has been restored.
			}
		}
		
		effect = {
			280 = {
				change_trade_goods = bt_trade_good_beer
				add_permanent_province_modifier = {
					name = "bt_center_of_horilka"
					duration = -1
				}
			}
			if = {
				limit = {
					any_owned_province = {
						NOT = { province_id = 280 }
						development = 30
						trade_goods = grain
						has_building = farm_estate
						OR = {
							culture = ruthenian
							culture = byelorussian
						}
					}
				}
				random_owned_province = {
					limit = {
						NOT = { province_id = 280 }
						development = 30
						trade_goods = grain
						has_building = farm_estate
						OR = {
							culture = ruthenian
							culture = byelorussian
						}
					}
					change_trade_goods = bt_trade_good_beer
				}
			}
			if = {
				limit = {
					any_owned_province = {
						NOT = { province_id = 280 }
						development = 25
						trade_goods = grain
						has_building = farm_estate
						OR = {
							culture = ruthenian
							culture = byelorussian
						}
					}
				}
				random_owned_province = {
					limit = {
						NOT = { province_id = 280 }
						development = 25
						trade_goods = grain
						has_building = farm_estate
						OR = {
							culture = ruthenian
							culture = byelorussian
						}
					}
					change_trade_goods = bt_trade_good_beer
				}
			}
			if = {
				limit = {
					any_owned_province = {
						NOT = { province_id = 280 }
						development = 20
						trade_goods = grain
						has_building = farm_estate
						OR = {
							culture = ruthenian
							culture = byelorussian
						}
					}
				}
				random_owned_province = {
					limit = {
						NOT = { province_id = 280 }
						development = 20
						trade_goods = grain
						has_building = farm_estate
						OR = {
							culture = ruthenian
							culture = byelorussian
						}
					}
					change_trade_goods = bt_trade_good_beer
				}
			}
			if = {
				limit = {
					any_owned_province = {
						NOT = { province_id = 280 }
						development = 15
						trade_goods = grain
						has_building = farm_estate
						OR = {
							culture = ruthenian
							culture = byelorussian
						}
					}
				}
				random_owned_province = {
					limit = {
						NOT = { province_id = 280 }
						development = 15
						trade_goods = grain
						has_building = farm_estate
						OR = {
							culture = ruthenian
							culture = byelorussian
						}
					}
					change_trade_goods = bt_trade_good_beer
				}
			}
			if = {
				limit = {
					any_owned_province = {
						NOT = { province_id = 280 }
						development = 10
						trade_goods = grain
						has_building = farm_estate
						OR = {
							culture = ruthenian
							culture = byelorussian
						}
					}
				}
				random_owned_province = {
					limit = {
						NOT = { province_id = 280 }
						development = 10
						trade_goods = grain
						has_building = farm_estate
						OR = {
							culture = ruthenian
							culture = byelorussian
						}
					}
					change_trade_goods = bt_trade_good_beer
				}
			}
			#Fire event, allow to choose estate to handle vodka monopoly, or take for yourself as crown.
			country_event_with_insight = {
				id = BeyondTypusRuthenianFlavour.2
				insight_tooltip = ukr_production_of_vodka_at
			}
		}
		
	}
}

bt_ukr_form_ruthenia = {
	slot = 3
	generic = no
	ai = yes
	potential = {
		OR = {
			tag = KIE #Kiev
			tag = UKR #Ruthenia
		}
		NOT = { map_setup = map_setup_random }
	}
	has_country_shield = yes
	
	ukr_centralized_state = {
		icon = mission_rule_ruthenia
		required_missions = { } #None
		position = 10
		provinces_to_highlight = {
			
		}
		
		trigger = {
			tag = UKR
		}
		
		effect = {
			add_adm_power = 100
			add_dip_power = 100
			add_mil_power = 100
		}
		
	}
}

bt_ukr_religion = {
	slot = 3
	generic = no
	ai = yes
	potential = {
		tag = UKR #Ruthenia
		NOT = { map_setup = map_setup_random }
	}
	has_country_shield = yes
	
	ukr_strengthen_kievan_patriarch = {
		icon = mission_russian_patriarchatee
		required_missions = { ukr_centralized_state }
		position = 11
		provinces_to_highlight = {
			OR = { 
				AND = {
					province_id = 151
					OR = { #Hide 151 if fulfilling requirements for it.
						NOT = { owned_by = ROOT }
						owner = {
							NOT = {
								has_opinion = {
									who = ROOT
									value = 200
								}
							}
						}
					}
				}
				AND = {
					province_id = 280
					NOT = { has_tax_building_trigger = yes }
				}
			}
		}
		
		trigger = {
			151 = {
				owner = {
					OR = {
						tag = ROOT
						has_opinion = {
							who = ROOT
							value = 200
						}
					}
				}
			}
			patriarch_authority = 0.9
			theologian = 3
			280 = {
				has_tax_building_trigger = yes
			}
			OR = {
				NOT = { has_estate = estate_church }
				estate_loyalty = {
					estate = estate_church
					loyalty = 70
				}
			}
		}
		
		effect = {
			enable_improved_consecration = yes 
			unlock_government_reform = {
				government_reform = head_of_the_patriarchy_reform
			}
			if = {
				limit = {
					government = monarchy
				}
				add_government_reform = head_of_the_patriarchy_reform
			}
		}
		
	}
}

bt_ukr_boyars = {
	slot = 4
	generic = no
	ai = yes
	potential = {
		tag = UKR #Ruthenia
		NOT = { map_setup = map_setup_random }
	}
	has_country_shield = yes
	
	ukr_handle_boyars = { #Essentially a copy of Russia's mission
		icon = mission_great_northern_war
		required_missions = { ukr_centralized_state }
		position = 11
		provinces_to_highlight = {
			
		}
		
		trigger = {
			OR = {
				AND = {
					crown_land_share = estate_nobles
					NOT = { estate_influence = { estate = estate_nobles influence = 30 } }
				}
				AND = {
					NOT = { crown_land_share = estate_nobles }
					estate_loyalty = { estate = estate_nobles loyalty = 70 }
				}
				NOT = { has_estate = estate_nobles }
			}
		}
		
		effect = {
			if = {
				limit = { has_estate = estate_nobles }
				simple_dynamic_effect = {
					first_custom_tooltip = rus_handle_the_boyars_at
					first_limit = "crown_land_share = estate_nobles"
					first_effect = "add_country_modifier = { name = rus_demoted_the_boyars duration = 9125 }"
					second_custom_tooltip = rus_handle_the_boyars_bt
					second_limit = "NOT = { crown_land_share = estate_nobles }"
					second_effect = "add_country_modifier = { name = rus_support_of_the_boyars duration = 9125 }"
				}
			}
			else = {
				add_adm_power = 50
				add_dip_power = 50
				add_mil_power = 50
			}
		}
		
	}
	
	ukr_royal_court = {
		icon = mission_noble_council
		required_missions = { ukr_handle_boyars ukr_strengthen_kievan_patriarch }
		position = 12
		provinces_to_highlight = {
			
		}
		
		trigger = {
			has_adm_advisor_of_level = { level = 3 }
			has_dip_advisor_of_level = { level = 3 }
			has_mil_advisor_of_level = { level = 3 }
		}
		
		effect = {
			add_prestige_or_monarch_power = { amount = 20 }
			change_ruler_stat = {
				type = adm
				amount = 1
			}
			change_ruler_stat = {
				type = dip
				amount = 1
			}
			change_ruler_stat = {
				type = mil
				amount = 1
			}
		}
		
	}
}

bt_ukr_unique_units = {
	slot = 5
	generic = no
	ai = yes
	potential = {
		tag = UKR #Ruthenia
		NOT = { map_setup = map_setup_random }
	}
	has_country_shield = yes
	
	ukr_of_streltsy_and_cossacks = {
		icon = mission_recruit_streltsy
		required_missions = { ukr_centralized_state }
		position = 11
		provinces_to_highlight = {
			
		}
		
		trigger = {
			if = {
				limit = {
					has_dlc = "Third Rome"
				}
				num_of_streltsy = 30
			}
			else = {
				land_forcelimit = 150
			}
			if = {
				limit = {
					has_dlc = "The Cossacks"
				}
				num_of_cossacks = 15
			}
			else = {
				cavalry_fraction = 0.15
			}
		}
		
		effect = {
			if = {
				limit = {
					has_dlc = "Cradle of Civilization"
				}
				add_army_professionalism = 0.05
			}
			else = {
				add_army_tradition = 15
			}
			
		}
		
	}
	
	ukr_military_elites = {
		icon = mission_assemble_an_army
		required_missions = { ukr_of_streltsy_and_cossacks }
		position = 12
		provinces_to_highlight = {
			
		}
		
		trigger = {
			if = {
				limit = {
					has_dlc = "Cradle of Civilization"
				}
				army_professionalism = 0.6
			}
			else = {
				army_tradition = 95 #Because I basically have nothing else to check with. Bloody DLC features I guess...
			}
		}
		
		effect = { #Bloody DLC gating... Oh well. Not much I can do.
			if = {
				limit = {
					has_dlc = "Cradle of Civilization"
				}
				if = {
					limit = {
						has_dlc = "Third Rome"
					}
					add_country_modifier = {
						name = "bt_ukr_elite_streltsy"
						duration = -1
					}
				}
				else = {
					add_mil_power = 100
				}
				if = {
					limit = {
						has_dlc = "The Cossacks"
					}
					add_country_modifier = {
						name = "bt_ukr_elite_cossacks"
						duration = -1
					}
				}
				else = {
					add_mil_power = 100
				}
			}
			else = {
				add_mil_power = 100
			}
		}
		
	}
}

bt_ukr_government = {
	slot = 3
	generic = no
	ai = yes
	potential = {
		tag = UKR #Ruthenia
		NOT = { map_setup = map_setup_random }
	}
	has_country_shield = yes
	
	ukr_absolute_authority = {
		icon = mission_autocratic_rule
		required_missions = { ukr_navy_of_the_intermarum ukr_production_of_vodka ukr_royal_court ukr_military_elites }
		position = 13
		provinces_to_highlight = {
			
		}
		
		trigger = {
			is_absolutism_active = yes
			OR = {
				absolutism = 50
				AND = { #All estate loyalty above 70.
					if = { limit = { has_estate = estate_church }			estate_loyalty = { estate = estate_church			loyalty = 70 } }
					if = { limit = { has_estate = estate_brahmins }			estate_loyalty = { estate = estate_brahmins			loyalty = 70 } }
					if = { limit = { has_estate = estate_burghers }			estate_loyalty = { estate = estate_burghers			loyalty = 70 } }
					if = { limit = { has_estate = estate_cossacks }			estate_loyalty = { estate = estate_cossacks			loyalty = 70 } }
					if = { limit = { has_estate = estate_dhimmi }			estate_loyalty = { estate = estate_dhimmi			loyalty = 70 } }
					if = { limit = { has_estate = estate_jains }			estate_loyalty = { estate = estate_jains			loyalty = 70 } }
					if = { limit = { has_estate = estate_maratha }			estate_loyalty = { estate = estate_maratha			loyalty = 70 } }
					if = { limit = { has_estate = estate_nobles }			estate_loyalty = { estate = estate_nobles			loyalty = 70 } }
					if = { limit = { has_estate = estate_nomadic_tribes }	estate_loyalty = { estate = estate_nomadic_tribes	loyalty = 70 } }
					if = { limit = { has_estate = estate_rajput }			estate_loyalty = { estate = estate_rajput			loyalty = 70 } }
					if = { limit = { has_estate = estate_vaisyas }			estate_loyalty = { estate = estate_vaisyas			loyalty = 70 } }
					if = { limit = { has_estate = estate_janissaries }		estate_loyalty = { estate = estate_janissaries		loyalty = 70 } }
					if = { limit = { has_estate = estate_eunuchs }			estate_loyalty = { estate = estate_eunuchs			loyalty = 70 } }
					if = { limit = { has_estate = estate_qizilbash }		estate_loyalty = { estate = estate_qizilbash		loyalty = 70 } }
					if = { limit = { has_estate = estate_ghulams }			estate_loyalty = { estate = estate_ghulams			loyalty = 70 } }
					if = { limit = { has_estate = estate_peasants }			estate_loyalty = { estate = estate_peasants			loyalty = 70 } }
				}
			}
		}
		
		effect = {
			if = {
				limit = {
					has_dlc = "Third Rome"
				}
				custom_tooltip = bt_ukr_empowered_russian_mechanic_tt
				set_country_flag = bt_ukr_empowered_russian_mechanic
			}
			custom_tooltip = ukr_absolute_authority_tt
			set_country_flag = ukr_absolute_authority_flag
			hidden_effect = {
				swap_non_generic_missions = yes
			}
		}
		
	}
}

bt_ukr_government_2 = {
	slot = 3
	generic = no
	ai = yes
	potential = {
		tag = UKR #Ruthenia
		has_country_flag = ukr_absolute_authority_flag
		NOT = { map_setup = map_setup_random }
	}
	has_country_shield = yes
	
	ukr_ideas_of_revolution = {
		icon = mission_ruthenian_revolution
		required_missions = { ukr_industrialize_donets ukr_enlightened_rus ukr_question_of_serfdom ukr_freedom_of_steppes }
		position = 15
		provinces_to_highlight = {
			
		}
		
		trigger = {
			OR = {
				has_reform = revolutionary_empire_reform
				has_reform = revolutionary_republic_reform
				custom_trigger_tooltip = {
					tooltip = center_of_revolution.3000.A.tt
					has_global_flag = no_more_revolutions_ever
				}
				any_known_country = {
					is_revolution_target = yes
					war_with = ROOT
					capital_scope = {
						controlled_by = ROOT
					}
				}
			}
		}
		
		effect = {
			add_army_tradition = 25
			simple_dynamic_effect = {
				first_custom_tooltip = rus_the_glorious_revolution_at
				first_limit = "
				OR = {
					has_reform = revolutionary_empire_reform
					has_reform = revolutionary_republic_reform
				}"
				first_effect = "
				add_country_modifier = {
					name = ukr_revolutionary_zeal
					duration = -1
				}"
				second_custom_tooltip = rus_the_glorious_revolution_bt
				second_limit = "
				NOT = { has_reform = revolutionary_empire_reform }
				NOT = { has_reform = revolutionary_republic_reform }
				"
				second_effect = "
				add_country_modifier = {
					name = rus_reactionary_zeal
					duration = -1
				}"
			}
			
		}
		
	}
}

bt_ukr_industrialization = {
	slot = 1
	generic = no
	ai = yes
	potential = {
		tag = UKR #Ruthenia
		has_country_flag = ukr_absolute_authority_flag
		NOT = { map_setup = map_setup_random }
	}
	has_country_shield = yes
	
	ukr_industrialize_donets = {
		icon = mission_rb_build_furnaces
		required_missions = { ukr_absolute_authority }
		position = 14
		provinces_to_highlight = {
			OR = {
				has_latent_trade_goods = coal
				trade_goods = coal
			}
			NOT = { has_building = furnace }
		}
		
		trigger = {
			furnace = 4
			crimea_region = {
				has_building = furnace
			}
		}
		
		effect = {
			crimea_region = {
				limit = {
					has_building = furnace
				}
				add_base_tax = 4
				add_base_production = 4
			}
			custom_tooltip = ukr_industrialize_donets_tooltip
			ruthenia_region = {
				limit = {
					OR = {
						trade_goods = iron
						trade_goods = copper
					}
				}
				add_province_modifier = {
					name = "bt_ukr_donets_coal"
					duration = -1
				}
			}
			crimea_region = {
				limit = {
					OR = {
						trade_goods = iron
						trade_goods = copper
					}
				}
				add_province_modifier = {
					name = "bt_ukr_donets_coal"
					duration = -1
				}
			}
		}
		
	}
}

bt_ukr_enlightenment = {
	slot = 2
	generic = no
	ai = yes
	potential = {
		tag = UKR #Ruthenia
		has_country_flag = ukr_absolute_authority_flag
		NOT = { map_setup = map_setup_random }
	}
	has_country_shield = yes
	
	ukr_enlightened_rus = {
		icon = mission_early_modern_university
		required_missions = { ukr_absolute_authority }
		position = 14
		provinces_to_highlight = {
			NOT = { has_building = university }
			owned_by = ROOT
		}
		
		trigger = {
			university = 10
			if = {
				limit = {
					has_dlc = "Rule Britannia"
				}
				innovativeness = 25
			}
		}
		
		effect = {
			if = {
				limit = {
					has_dlc = "Rule Britannia"
				}
				change_innovativeness = 5
			}
			else = {
				add_adm_power = 100
				add_dip_power = 100
				add_mil_power = 100
			}
		}
		
	}
}

bt_ukr_peasants = {
	slot = 4
	generic = no
	ai = yes
	potential = {
		tag = UKR #Ruthenia
		has_country_flag = ukr_absolute_authority_flag
		NOT = { map_setup = map_setup_random }
	}
	has_country_shield = yes
	
	ukr_question_of_serfdom = {
		icon = mission_serfdom
		required_missions = { ukr_absolute_authority }
		position = 14
		provinces_to_highlight = {
			
		}
		
		trigger = {
			OR = { #May need to return to this for non-Domination DLC users because these specific things cannot really be done unless you have the Domination DLC, except I suppose transitioning into a Republic.
				if = { #DLC-locked option because the event chain is Domination-exclusive
					limit = {
						has_dlc = "Domination"
					}
					custom_trigger_tooltip = { #Has abolished serfdom
						tooltip = ukr_question_of_serfdom_tooltip_a
						has_country_flag = bt_rus_abolished_serfdom
					}
				}
				has_estate = estate_peasants
				government = republic
				if = { #DLC-locked option because the event chain is Domination-exclusive
					limit = {
						has_dlc = "Domination"
					}
					custom_trigger_tooltip = { #Challenged Burghers after going down peasant freedom path.
						tooltip = ukr_question_of_serfdom_tooltip_b
						has_country_flag = bt_rus_challenged_burghers
					}
				}
			}
		}
		
		effect = {
			change_government_reform_progress = 100 #Why not.
			if = {
				limit = {
					has_estate = estate_peasants
				}
				add_estate_loyalty = {
					estate = estate_peasants
					loyalty = 25
				}
			}
			add_country_modifier = {
				name = rus_freed_peasants
				duration = -1
			}
		}
		
	}
}

bt_ukr_cossacks = {
	slot = 5
	generic = no
	ai = yes
	potential = {
		tag = UKR #Ruthenia
		has_country_flag = ukr_absolute_authority_flag
		NOT = { map_setup = map_setup_random }
	}
	has_country_shield = yes
	
	ukr_freedom_of_steppes = {
		icon = mission_chinese_general_riding
		required_missions = { ukr_absolute_authority }
		position = 14
		provinces_to_highlight = {
			if = {
				limit = {
					exists = ZAZ
					NOT = { 
						ROOT = {
							is_subject = ZAZ
						}
					}
				}
				province_group = ukr_claim_wild_fields_provinces
				NOT = {
					owned_by = ROOT
				}
				local_autonomy = 10
			}
		}
		
		trigger = {
			NOT = { exists = ZAZ }
			if = { #If ZAZ was established, be integrated and Cossacks influence below 30.
				limit = {
					OR = {
						is_subject = ZAZ
						NOT = { exists = ZAZ }
					}
				}
				NOT = {
					estate_influence = {
						estate = estate_cossacks
						influence = 20
					}
				}
			}
			else = { #ZAZ was allowed to break free at some point.
				has_fulfiled_general_province_requirement_for_mission_trigger = { #Less than 10 autonomy in wild field provinces
					tooltip=country_holds_highlighted_less_than_10_autonomy
					provinces=ukr_claim_wild_fields_provinces
					triggers="
						owned_by = ROOT
						NOT = {
							local_autonomy = 10
						}
					"
				}
			}
		}
		
		effect = {
			change_government_reform_progress = 100 #Why not.
			add_country_modifier = {
				name = "bt_ukr_tamed_the_steppes"
				duration = -1
			}
			# if = {
				# limit = {
					# has_estate = estate_cossacks
				# }
				# add_estate_loyalty = {
					# estate = estate_cossacks
					# loyalty = 25
				# }
			# }
		}
		
	}
}