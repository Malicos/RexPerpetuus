# Do not change tags in here without changing every other reference to them.
# Do not change tags in here without changing every other reference to them.
# If adding new groups or ideas, make sure they are unique.

# ai_will do is only used to determine which idea group is picked if AI_USES_HISTORICAL_IDEA_GROUPS define is 0, OR start is custom/random
# ai never picks an idea that resolves to ai_will_do = 0, even if AI_USES_HISTORICAL_IDEA_GROUPS = 1
# ROOT = country picking the idea
# groups set to colonial=yes will be higher prioritized by the AI when spending power

#ideas in the group can have effect = {} and removed_effect = {}

aristocracy_ideas = {
	category = MIL

	bonus = {
		leader_siege = 1
		nobles_loyalty_modifier = 0.1
		rajput_loyalty_modifier = 0.1
		maratha_loyalty_modifier = 0.1
	}

	trigger = {
		has_government_attribute = enables_aristocratic_idea_group
	}
	
	noble_knights = {
		cavalry_power = 0.15
	}
	serfdom = {
		global_manpower_modifier = 0.15
		development_cost = -0.05
	}
	noble_resilience = {
		cav_to_inf_ratio = 0.1
		cavalry_cost = -0.20
	}
	noble_officers = {
		army_tradition_decay = -0.01
		navy_tradition_decay = -0.01
		num_of_pronoiars = 1
	}
	international_nobility = {
		diplomats = 1
		general_cost = -0.1
	}
	rightful_conquest = {
		fabricate_claims_cost = -0.5
		unjustified_demands = -0.25
	}
	local_nobility = {
		global_autonomy = -0.025
		yearly_absolutism = 0.5
	}
	

	ai_will_do = {
		factor = 3.75
		
		modifier = {
			factor = 1.25
			has_global_modifier_value = {
				which = cavalry_power 
				value = 0.25
			}
		}
		modifier = {
			factor = 1.25
			cavalry_fraction = 0.3
		}
		modifier = {
			factor = 0.5
			NOT = { monthly_mil = 7 }
		}
		modifier = {
			factor = 1.1
			personality = ai_militarist 
		}
		modifier = {
			factor = 0.5
			is_subject = yes
		}
		modifier = { 
			factor = 1.25
			has_idea_group = spy_ideas 
		}
	}
}


plutocracy_ideas = {
	category = MIL

	bonus = {
		global_prov_trade_power_modifier = 0.25
		burghers_loyalty_modifier = 0.1
		vaisyas_loyalty_modifier = 0.1
	}

	trigger = {
		has_government_attribute = enables_plutocratic_idea_group
	}

	tradition_of_payment = {
		mercenary_cost = -0.2
		global_regiment_cost = -0.05
	}
	abolished_serfdom = {
		land_morale = 0.10
		global_unrest = -1
	}
	bill_of_rights = {
		monthly_reform_progress = 0.1
	}
	free_merchants = {
		merchants = 1
	}
	free_subjects = {
		global_trade_goods_size_modifier = 0.1
	}
	free_cities = {
		caravan_power = 0.25
		development_cost = -0.05
	}
	emancipation = {
		manpower_recovery_speed = 0.2
	}

	ai_will_do = {
		factor = 3.75
		
		modifier = {
			factor = 1.25
			trade_income_percentage = 0.4
		}
		modifier = {
			factor = 1.25
			production_income_percentage = 0.35
		}
		modifier = {
			factor = 0.5
			NOT = { monthly_mil = 7 }
		}
		modifier = {
			factor = 1.1
			OR = {
				personality = ai_capitalist
				personality = ai_militarist 
			}
		}
	}
}

horde_gov_ideas = {
	category = MIL
	
	bonus = {
		cavalry_power = 0.25
		nomadic_tribes_loyalty_modifier = 0.1
	}
	
	trigger = {
		has_government_attribute = enables_horde_idea_group
	}
	
	horse_lords = {
		cavalry_cost = -0.33
		cav_to_inf_ratio = 0.10
	}
	beyond_the_sun = {
		ae_impact = -0.1
	}
	mandate_of_the_khan = {
		religious_unity = 0.25
	}
	there_shall_be_no_grass = {
		land_attrition = -0.2
	}
	horde_loyalty = {
		global_unrest = -1
		horde_unity = 0.5
	}
	watchers_of_the_silk_road = {	
		caravan_power = 0.20
	}
	a_magnanimous_empire = {
		#num_accepted_cultures = 2
		promote_culture_cost = -0.1 #BT Accepted Culture Slots overhaul
	}
	
	ai_will_do = {
		factor = 8
		modifier = {
			factor = 1.5
			personality = ai_militarist 
		}
	}
}

theocracy_gov_ideas = {
	category = MIL
	
	bonus = {
		global_heretic_missionary_strength = 0.01
		church_loyalty_modifier = 0.1
		brahmins_hindu_loyalty_modifier = 0.1
		brahmins_muslim_loyalty_modifier = 0.1
	}
	
	trigger = {
		has_government_attribute = enables_divine_idea_group
	}
	servants_of_god = {
		devotion = 1
		legitimacy = 0.5
		development_cost = -0.05
	}
	by_the_grace_of_god = {
		fire_damage_received = -0.1
	}
	friends_in_high_places = {
		leader_cost = -0.1
		war_exhaustion_cost = -0.33
	}
	flesh_is_weak = {
		morale_damage_received = -0.1
	}
	alpha_and_omega = {
		enforce_religion_cost = -0.3
		culture_conversion_cost = -0.1
	}
	conviction_of_sin = {
		global_unrest = -2
	}
	martyrs = {
		manpower_in_true_faith_provinces = 0.15
		prestige_from_land = 0.5
	}
	ai_will_do = {
		factor = 3.75
		modifier = {
			factor = 0
			has_idea_group = humanist_ideas
		}
		modifier = {
			factor = 1.25
			any_neighbor_country = { 
				NOT = { religion = ROOT }
			}
		}
		modifier = {
			factor = 1.25
			any_neighbor_country = { 
				NOT = { religion = ROOT }
			}
		}
		modifier = {
			factor = 0.5
			NOT = { monthly_mil = 7 }
		}
		modifier = {
			factor = 1.25
			personality = ai_militarist 
		}
	}
}

indigenous_ideas = {
	category = MIL

	bonus = {
		global_institution_spread = 0.25
	}

	trigger = {
		has_government_attribute = enables_natives_idea_group
	}

	indigenous_bountiful_land = {
		tribal_development_growth = 0.015
		development_cost = -0.05
	}
	indigenous_irregular_warfare = {
		hostile_attrition = 1
	}
	indigenous_constitution = {
		monthly_reform_progress_modifier = 0.25
	}
	indigenous_braves = {
		land_morale = 0.10
	}
	indigenous_controlled_burns = {
		global_manpower_modifier = 0.15
	}
	indigenous_trade_with_foreigners = {
		idea_cost = -0.1
	}
	indigenous_treaties = {
		province_warscore_cost = -0.2
	}

	ai_will_do = {
		factor = 10
	}
}

innovativeness_ideas = {
	category = ADM

	bonus = {
		advisor_cost = -0.2
	}

	patron_of_art  = {
		prestige_decay = -0.01
	}
	empiricism = {
		innovativeness_gain = 0.5
	}
	scientific_revolution = {
		technology_cost = -0.1
		embracement_cost = -0.1
	}
	dynamic_court = {
		advisor_pool = 1
	}
	print_culture = {
		global_institution_spread = 0.25
	}
	optimism = {
		war_exhaustion = -0.05
		monthly_splendor = 1
	}
	expanded_policies = {
		free_policy = 1
	}

	ai_will_do = {
		factor = 0.55
		modifier = {
			factor = 1.25
			has_reform = steppe_horde
		}
		modifier = {
			factor = 0.5
			NOT = { monthly_adm = 8 }
		}
		modifier = {
			factor = 1.25
			innovativeness = 40
			NOT = { is_year = 1650 }
		}
		modifier = {
			factor = 1.25
			OR = { 
				ruler_has_personality = scholar_personality 
				ruler_has_personality = free_thinker_personality
				in_golden_age = yes 	
			}
		}
		modifier = {
			factor = 1.1
			personality = ai_capitalist
		}
		modifier = {
			factor = 1.25
			OR = {
				has_idea_group = economic_ideas 
				has_idea_group = offensive_ideas 
				has_idea_group = naval_ideas
			}
		}
		modifier = {
			factor = 0
			OR = {
				is_year = 1700 
				innovativeness = 80
			}
		}
	}
}


religious_ideas = {
	category = ADM

	bonus = {
		culture_conversion_cost = -0.25
		brahmins_hindu_loyalty_modifier = 0.1
		church_loyalty_modifier = 0.1
	}

	missionary_schools = {
		missionaries = 1
		missionary_maintenance_cost = -0.5
	}
	church_attendance_duty = { 
		manpower_in_true_faith_provinces = 0.1
	}
	divine_supremacy = {
		global_missionary_strength = 0.03
	}
	devoutness = {
		tolerance_own = 2
	}
	inquisition = {
		papal_influence = 2
		devotion = 0.25
		monthly_fervor_increase = 0.25
		church_power_modifier = 0.1
		monthly_piety_accelerator = 0.001
		yearly_karma_decay = 0.1
		yearly_doom_reduction = 1
		yearly_authority = 0.15
		yearly_patriarch_authority = 0.005
		prestige_per_development_from_conversion = 0.1
	}
	religious_tradition = {
		reverse_relation_with_same_religion = 10
	}
	deus_vult = {
		cb_on_religious_enemies = yes
	}

	ai_will_do = {
		factor = 0.6 #Reduced from 1. Was picked *way* too often.
		modifier = {
			factor = 0
			has_idea_group = humanist_ideas
		}
		modifier = { #Don't pick up religious if you have an innate bonus to tolerance of heathens or heretics. Should hopefully stop Poland/Lithuania/Ottomans/similar nations being silly.
			factor = 0
			OR = {
				has_global_modifier_value = {
					which = tolerance_heathen
					value = 0
				}
				has_global_modifier_value = {
					which = tolerance_heretic
					value = 0
				}
			}
		}
		#Clergy influence influences the influence on the AI factor
		modifier = {
			factor = 0.5
			has_estate = estate_church
			NOT = {
				estate_influence = {
					estate = estate_church
					influence = 40
				}
			}
		}
		modifier = {
			factor = 2
			has_estate = estate_church
			estate_influence = {
				estate = estate_church
				influence = 50
			}
		}
		modifier = {
			factor = 2
			has_estate = estate_church
			estate_influence = {
				estate = estate_church
				influence = 75
			}
		}
		#Brahmin influence influences the influence on the AI factor, but only if Clergy is not present.
		modifier = {
			factor = 0.5
			has_estate = estate_brahmins
			NOT = { has_estate = estate_church }
			NOT = {
				estate_influence = {
					estate = estate_brahmins
					influence = 40
				}
			}
		}
		modifier = {
			factor = 2
			has_estate = estate_brahmins
			NOT = { has_estate = estate_church }
			estate_influence = {
				estate = estate_brahmins
				influence = 50
			}
		}
		modifier = {
			factor = 2
			has_estate = estate_brahmins
			NOT = { has_estate = estate_church }
			estate_influence = {
				estate = estate_brahmins
				influence = 75
			}
		}
		#If low religious unity, pick up this.
		modifier = {
			factor = 2
			NOT = { religious_unity = 0.75 }
		}
		modifier = {
			factor = 3
			NOT = { religious_unity = 0.50 }
		}
		modifier = {
			factor = 4
			NOT = { religious_unity = 0.25 }
		}
		#If you have extra tolerance of true faith, religious should be the way to go.
		modifier = {
			factor = 1.25
			has_global_modifier_value = {
				which = tolerance_own
				value = 6
			}
		}
		modifier = {
			factor = 1.5
			has_global_modifier_value = {
				which = tolerance_own
				value = 7
			}
		}
		modifier = {
			factor = 2
			has_global_modifier_value = {
				which = tolerance_own
				value = 8
			}
		}
		modifier = {
			factor = 3
			has_global_modifier_value = {
				which = tolerance_own
				value = 9
			}
		}
		modifier = { #If Zealous or Pious personality, pick up.
			factor = 1.5
			OR = {
				ruler_has_personality = zealot_personality
				ruler_has_personality = pious_personality
			}
		}
		modifier = { #If you are a nation that wants to culture-convert, you should pick up religious.
			factor = 3
			has_global_modifier_value = {
				which = culture_conversion_cost
				value = -0.10
			}
		}
		modifier = { #If Theocracy or Feudal Theocracy-style government, you should pick this up.
			factor = 3
			OR = {
				government = theocracy
				has_government_mechanic = feudal_theocracy_mechanic
			}
		}
		modifier = { #If Emperor, you want the HRE to be correct religion.
			factor = 2
			is_emperor = yes
			hre_religion_locked = yes
		}
		modifier = { #If your state religion isn't dominant, you may want to do something about it.
			factor = 2
			dominant_religion = ROOT
		}
		modifier = { #Just something I found that makes sense.
			factor = 2
			has_border_with_religious_enemy = yes
		}
		modifier = {
			factor = 1.1
			religion = catholic
			any_neighbor_country = {
				is_crusade_target = yes 
			}
		}
		modifier = {
			factor = 0.5
			NOT = { monthly_adm = 7 }
		}
	}
}


spy_ideas = {
	category = DIP

	bonus = {
		rebel_support_efficiency = 1
		spy_action_cost_modifier = -0.2
	}
	
	claim_fabrication = {
		can_claim_states = yes
		can_transfer_vassal_wargoal = yes
	}

	state_propaganda = {
		ae_impact = -0.2
	}

	efficient_spies = {
		spy_offence = 0.5
		siege_ability = 0.1
	}	
	
	agent_training = {
		diplomats = 1
		advisor_cost = -0.15
	}

	vetting = {
		global_spy_defence = 0.33
		yearly_corruption = -0.2
	}
	
	privateers = {
		capture_ship_chance = 0.25
		privateer_efficiency = 0.33
	}
	
	blackmailing = {
		monthly_favor_modifier = 0.33
		accept_vassalization_reasons = 15
		num_of_pronoiars = 1
	}

	ai_will_do = {
		factor = 0.75
		modifier = { #Small nudge if part of the HRE to help with AE.
			factor = 1.25
			is_part_of_hre = yes
		}
		modifier = { #Big factor if you have aristocratic ideas for policy shenanigans.
			factor = 10
			full_idea_group = aristocracy_ideas
		}
		modifier = { #If Secretive or Intricate Web Weaver, slightly nudge.
			factor = 2
			OR = {
				ruler_has_personality = secretive_personality
				ruler_has_personality = intricate_web_weaver_personality
			}
		}
		modifier = {
			factor = 1.1
			personality = ai_militarist 
		}
		modifier = {
			factor = 0.45
			NOT = { monthly_dip = 7 }
		}
		modifier = {
			factor = 1.25
			has_idea_group = aristocracy_ideas
		}
	}
}


diplomatic_ideas = {
	category = DIP
	bonus = {
		reduced_stab_impacts = yes
	}
	
	grand_banquets = {
		diplomats = 1
	}
	foreign_embassies = {
		dip_advisor_cost = -0.25
	}
	cabinet = {
		diplomatic_upkeep = 1
	}
	benign_diplomats = {
		improve_relation_modifier = 0.25
		diplomats = 1
	}
	experienced_diplomats  = {
		diplomatic_reputation = 2
	}
	flexible_negotiation = {
		province_warscore_cost = -0.2
	}
	diplomatic_corps = {
		dip_tech_cost_modifier = -0.1
	}

	ai_will_do = {
		factor = 0.5

		modifier = {
			factor = 2
			is_emperor = yes
		}
		modifier = { 	
			factor = 0.75 
			NOT = { monthly_dip = 7 }
		}
		modifier = {
			factor = 1.25
			personality = ai_diplomat 
		}
	}
}


offensive_ideas = {
	category = MIL

	bonus = {
		recover_army_morale_speed = 0.1
		qizilbash_loyalty_modifier = 0.1
	}

	bayonet_leaders = {
		leader_land_shock = 1
	}
	national_conscripts = {
		global_regiment_recruit_speed = -0.1
	}
	superior_firepower = {
		leader_land_fire = 1
	}
	glorious_arms = {
		prestige_from_land = 1.0
		num_of_pronoiars = 1
	}
	engineer_corps = {
		siege_ability = 0.20
	}
	grand_army = {
		land_forcelimit_modifier = 0.15
		special_unit_cost_modifier = -0.2
	}
	napoleonic_warfare = {
		discipline = 0.05
	}

	#shock_tactics = {
	#	morale_damage = 0.1
	#}
	#
	#melee_combat_training = {
	#	shock_damage = 0.1
	#}
	#
	#volley_fire = {
	#	fire_damage = 0.1
	#}
	#
	#fort_breaker = {
	#	assault_fort_ability = 0.1
	#	assault_fort_cost_modifier = -1
	#}
	#
	#glory_on_the_battlefield = {
	#	artillery_barrage_cost = -0.25
	#	warscore_from_battles_modifier = 0.15
	#}

	ai_will_do = {
		factor = 3.51
		modifier = {
			factor = 1.1
			has_global_modifier_value = {
				which = discipline 
				value = 0.1
			}
		}
		modifier = {
			factor = 1.25
			monthly_mil = 7 
		}
		modifier = {
			factor = 1.05
			is_great_power = yes 
		}
		modifier = {
			factor = 1.25 
			personality = ai_militarist
		}
		modifier = {
			factor = 1.5
			OR = {
				num_of_artillery = 30
				num_of_galley = 50
				num_of_heavy_ship = 20
			}
		}
		modifier = {
			factor = 1.1 
			national_focus = MIL 
		}
		modifier = {
			factor = 1.15
			OR = {
				has_idea_group = economic_ideas 
				has_idea_group = innovativeness_ideas 
				has_idea_group = infrastructure_ideas
			}
		}
		modifier = {
			factor = 1.25
			is_march = yes
		}
	}
}


defensive_ideas = {
	category = MIL

	bonus = {
		hostile_attrition = 1
		max_hostile_attrition = 1 
	}

	battlefield_commisions = {
		army_tradition_from_battle = 1.0
	}
	military_drill = {
		land_morale = 0.15
	}
	improved_manuever = {
		leader_land_manuever = 1
	}
	regimental_system = {
		land_maintenance_modifier = -0.05
		regiment_manpower_usage = -0.05
	}
	defensive_mentality = {
		defensiveness = 0.25
		fort_maintenance_modifier = -0.1
	}
	supply_trains = {
		reinforce_speed = 0.3
	}
	improved_foraging = {
		garrison_size = 0.33
		effect = {
			hidden_effect = {
				if = {
					limit = {
						has_country_flag = ned_buffed_forts_flag
					}
					every_owned_province = {
						limit = {
							region = low_countries_region
							has_fort_building_trigger = yes
						}
						remove_province_modifier = ned_low_countries_fort_buff
						add_province_modifier = {
							name = ned_low_countries_fort_buff_buffed
							duration = -1
							hidden = yes
						}
					}
				}
			}
		}
		removed_effect = {
			hidden_effect = {
				every_owned_province = {
					limit = { has_province_modifier = ned_low_countries_fort_buff_buffed }
					remove_province_modifier = ned_low_countries_fort_buff_buffed
				}
			}
		}
	}
	#What a meme.
	#until_the_last_man = {
	#	morale_damage_received = -0.1
	#}
	#
	#improved_body_armor = {
	#	shock_damage_received = -0.1
	#}
	#
	#terrain_defence = {
	#	fire_damage_received = -0.1
	#}
	#
	#homeland_specialization = {
	#	attack_bonus_in_capital_terrain = yes
	#}
	#
	#guerilla_warfare_defense = {
	#	global_defender_dice_roll_bonus = 1
	#}
	#
	#relentless_charge = {
	#	global_attacker_dice_roll_bonus = 1
	#}
	#
	#ditch_defense = {
	#	garrison_damage = 0.5
	#	garrison_size = 0.25
	#}
	
	ai_will_do = {
		factor = 2.5
		modifier = {
			factor = 1.1
			has_global_modifier_value = {
				which = land_morale  
				value = 0.2
			}
		}
		modifier = {
			factor = 1.1
			has_global_modifier_value = {
				which = defensiveness  
				value = 0.2
			}
		}
		modifier = {
			factor = 1.25
			monthly_mil = 7 
		}
		modifier = {
			factor = 1.1 
			personality = ai_militarist
		}
		modifier = {
			factor = 1.25
			current_age = age_of_discovery
			num_of_owned_provinces_with = {
				has_terrain = mountain
				value = 5
			}
		}
		modifier = {
			factor = 1.05 
			any_rival_country = {
				army_size = ROOT 
			}
		}
		modifier = {
			factor = 1.25
			is_march = yes
		}
	}
}


trade_ideas = {
	category = DIP

	bonus = {
		merchants = 1
		burghers_loyalty_modifier = 0.1
		jains_loyalty_modifier = 0.1
		vaisyas_loyalty_modifier = 0.1
	}

	shrewd_commerce_practise = {
 		global_trade_power = 0.2
  	}
  	free_trade = {
  		merchants = 1
  	}
	merchant_adventures = {
		trade_range_modifier = 0.25
	}
	national_trade_policy = {
		trade_efficiency = 0.1
		mercantilism_cost = -0.25
	}
	overseas_merchants = {
		placed_merchant_power = 15
	}
	trade_manipulation = {
		trade_steering = 0.25
	}
	fast_negotiations = {
		caravan_power = 0.25
	}

	ai_will_do = {
		factor = 0.4
		modifier = {
			factor = 0
			NOT = { total_development = 100 } # BT; num_of_cities = 6
			NOT = { has_government_attribute = is_merchant_republic }
		}
		modifier = {
			factor = 2
			has_government_attribute = is_merchant_republic
		}
		modifier = { #If Entrepreneur or Midas Touched, slightly nudge.
			factor = 2
			OR = {
				ruler_has_personality = entrepreneur_personality				
				ruler_has_personality = midas_touched_personality
			}
		}
		modifier = { #Slight nudge if country lacks expansion or exploration so they can get merchants.
			factor = 1.5
			NOT = { has_idea_group = exploration_ideas }
			NOT = { has_idea_group = expansion_ideas }
		}
		#If very low trade income percentage (But less than 50%), pick this up.
		modifier = {
			factor = 3
			NOT = { trade_income_percentage = 0.5 }
			trade_income_percentage = 0.2
		}
		modifier = { #If this country has loans, they better god damn pick this up.
			factor = 4
			num_of_loans = 1
		}
		modifier = {
			factor = 1.25
			personality = ai_capitalist 
			trade_income_percentage = 0.35
		}
		modifier = {
			factor = 1.25
			home_trade_node = {
				trade_share = {
					country = ROOT 
					share = 0.4
				}
			}
		}
		modifier = {
			factor = 1.25
			OR = {
				has_idea_group = infrastructure_ideas
				has_idea_group = economic_ideas
			}
		}
	}
}




economic_ideas = {
	category = ADM

	bonus = {
		global_trade_goods_size_modifier = 0.1
		country_dev_points_modifier = 0.1
	}

	bureaucracy = { 
		global_tax_modifier = 0.15
	}
	national_bank = {
		inflation_reduction = 0.1
	}
	merchant_passes = {
		merchants = 1
	}
	efficient_mining = {
		gold_depletion_chance_modifier = -0.25
	}
	debt_and_loans = {
		interest = -0.5
	}
	nationalistic_enthusiasm = {
		land_maintenance_modifier = -0.05
	}
	smithian_economics = { 
		#Mechanic: +1/-1 Dev from Manufactories		#Note for modders; the two mechanics introduced in 1.35   
		production_efficiency = 0.1 				#for eco ideas are done so via on_actions 
 	}

	ai_will_do = {
		factor = 0.35
		modifier = {
			factor = 2
			inflation = 5
		}
		modifier = {
			factor = 1.25
			inflation = 10
		}
		modifier = {
			factor = 1.5
			has_reform = steppe_horde
		}
		modifier = {
			factor = 1.1
			num_of_cities = 20
		}
		modifier = {
			factor = 1.1
			num_of_cities = 50
		}
		modifier = {
			factor = 1.2
			personality = ai_capitalist 
		}
		modifier = { 
			factor = 0.8
			NOT = { monthly_adm = 7 } 
		}
		modifier = {
			factor = 1.1
			national_focus = ADM 
		}
		modifier = {
			factor = 1.05
			OR = {
				has_idea_group = quality_ideas
				has_idea_group = trade_ideas
				has_idea_group = offensive_ideas 
			}
		}
	}
}

exploration_ideas = {
	category = DIP
	important = yes

	bonus = {
		cb_on_primitives = yes
	}

	colonial_ventures = { # BT; 2.
		colonists = 1
		effect = { remove_temporary_colonist = yes } #BT Note: Not sure if we need to change this or not given how we modify this.
	}
	quest_for_the_new_world	= { # BT; 1.
		may_explore = yes
		naval_attrition = -0.1
	}
	overseas_exploration = {
		range = 0.5
	}
	land_of_opportunity = {
		global_colonial_growth = 20 # BT; 10
	}
	factories = {
		trade_company_governing_cost = -0.1
		trade_company_investment_cost = -0.1
	}
	free_colonies = {
		colonists = 1 # BT; colonist_placement_chance = 0.1
	}
	global_empire = {
		naval_forcelimit_modifier = 0.25
		treasure_fleet_income = 0.25
	}

	ai_will_do = {
		factor = 0.75
		#BTAddOn removed - overhauled modifiers for expansion below
		#modifier = {
		#	factor = 0
		#	is_colonial_nation = yes
		#}
		#modifier = {
		#	factor = 0
		#	is_tribal = yes
		#}
		#modifier = {
		#	factor = 0
		#	is_subject = yes
		#}		
		#modifier = {
		#	factor = 0
		#	primitives = yes
		#}
		#modifier = {
		#	factor = 0
		#	NOT = { num_of_ports = 1 }
		#	NOT = { 
		#		any_owned_province = { 
		#			is_in_capital_area = yes
		#			has_empty_adjacent_province = yes
		#		} 
		#	}
		#}
		#modifier = {
		#	factor = 0.1
		#	NOT = { num_of_ports = 3 }
		#	NOT = { 
		#		any_owned_province = { 
		#			is_in_capital_area = yes
		#			has_empty_adjacent_province = yes
		#		} 
		#	}			
		#}
		#modifier = {
		#	factor = 0.1
		#	NOT = { has_institution = renaissance }
		#	NOT = { tag = POR }
		#	NOT = { tag = CAS }
		#}
		#modifier = {
		#	factor = 0.1
		#	capital_scope = {
		#		NOT = {
		#			region = france_region
		#			region = iberia_region
		#			region = british_isles_region
		#			region = low_countries_region
		#		}
		#	}
		#	NOT = { technology_group = high_american }
		#}
		#modifier = {
		#	factor = 0.5
		#	tag = ARA
		#}
		#modifier = {
		#	factor = 0.1
		#	NOT = { is_year = 1490 }
		#	capital_scope = {
		#		NOT = {
		#			region = iberia_region
		#		}
		#	}
		#}
		#modifier = {
		#	factor = 10
		#	technology_group = high_american
		#}
		#modifier = {
		#	factor = 2.0
		#	num_of_ports = 5
		#}
		#modifier = {
		#	factor = 2.0
		#	num_of_ports = 10
		#}
		#modifier = {
		#	factor = 2.0
		#	num_of_ports = 15
		#}
		#modifier = {
		#	factor = 2.0
		#	num_of_ports = 20
		#}
		#modifier = {
		#	factor = 1000
		#	OR = {
		#		tag = POR
		#		tag = CAS
		#		tag = SPA
		#	}
		#}
		#modifier = {
		#	factor = 2
		#	OR = {
		#		tag = GBR
		#		tag = NED
		#		tag = ENG
		#		tag = FRA
		#		tag = KUR
		#	}
		#}
		#BTAddOn New Modifiers below
		#Few Notes from Draiocht -
		#I tried to make everything dynamic, like vanilla, while introducing a bit more logic (vanilla had just number of ports, so 20 ports on the Black Sea got a x16 chance...) I also introduced large penalties and bonuses to, hopefully, encourage the historical colonisation dates, (which were tending to be a few years late
		#for Castile and Portugal, but several decades early for everyone else) and also give the bonuses to a few historical colonisers who didn't get modifiers in vanilla (like Scotland, Russia, and Navarra). I decided to add an administrative tech req to almost everything to try to control which idea slot is used for
		#exploration. This may be heavy handed, we'll see, but the intent was to be able to introduce massive bonuses and penalties after or before certain dates, and adm tech seems more organic that simply is_year.
		modifier = {
			factor = 1000			#BT Harb - Increased from 100 they must do this otherwise there will be no colonies
			OR = {
				tag = POR			#Historically 1415
				tag = CAS			#Historically 1493
				tag = SPA			#Historically 1493 (as Castile)
				tag = NAV			#Effectively Spain or France in game, but the Basques were right at the front of colonial efforts, and established some of the first temporary and semi-permanent settlements in North America
				tag = IBE			#BtP tag who should colonise if it manages to form (essentially Spain and Portugal in one)
			}
			navy_size = 1			#BT Harb - Added as a check that they must have a coastal province (NAV is landlocked)
			adm_tech = 5
		}	#Bonus for historical countries at the first idea (Approximately year 1466)
		modifier = {
			factor = 20
			tag = RUS			#Historically 1580 (Russian exploration and conquest of Siberia under Yermak Timofeyevich. Note Russian America began 1799.)
			tag = NOV			#To Moscovy in 1478, but seriously engaged in the exploration and expansion into the Siberia east from the very beginning. Note it will also be taking expansion ideas as 1st idea, most of the time.
			tag = MOS			#In case Russia does not form in a timely manner. Note a pan russian bonus is found in expansion, but not here in exploration.
			adm_tech = 14
		}	#Bonus for historical countries at the third idea (Approximately year 1531)
		modifier = {
			factor = 20
			OR = {
				tag = ENG			#Historically 1607
				tag = GBR			#Historically 1607 (as England, also Scotland)
				tag = FRA			#Historically 1604
				tag = NED			#Historically 1602
				tag = HOL			#Historically 1602	(as Netherlands)
				tag = SCO			#Historically 1622
				tag = TNA			#BT tag who should colonise if it manages to form (precedent of Irish discovery and colonisation or the North Isles, Iceland, and according to some scholars likely Northern Canada, Greenland, and Jan Mayen)
				tag = CEL			#BtP tag who should colonise if it manages to form (precedent of Irish discovery and colonisation or the North Isles, Iceland, and according to some scholars likely Northern Canada, Greenland, and Jan Mayen)
			}
			adm_tech = 14
		}	#Bonus for historical countries at the fourth idea (Approximately year 1583)
		modifier = {
			factor = 20
			OR = {
				tag = KUR			#Historically 1654
				tag = KNI			#Historically 1651
				tag = SWE			#Historically 1638
			}
			adm_tech = 18
		}	#Bonus for historical countries at the fifth idea (Approximately year 1635)
		modifier = {
			factor = 20
			OR = {
				tag = DAN			#Historically 1754
				tag = NOR			#Historically 1754 (as Denmark)
				AND = {
					tag = HAB			#Historically 1775 (though very brief and largely unsuccessful, so adding further requirements)
					OR = {
						any_core_province = {
							region = low_countries_region
							has_port = yes
						}
						any_core_province = {
							area = carinthia_area
							has_port = yes
						}
					}	#Must own either a core port in the Low Countries, or Carinthia
				}
			}
			adm_tech = 26
		}	#Bonus for historical countries at the seventh idea (Approximately year 1745)
		modifier = {
			factor = 10
			is_great_power = yes
			num_of_ports = 5
			capital_scope = {
				region = france_region
				region = iberia_region
				region = british_isles_region
				region = low_countries_region
				region = ireland_region # Brian; changed from _area
			}
			adm_tech = 14			#As a fourth idea, probably in the 1580s
		}	#catch-all for ahistorical powers and unexpected developments in what was historically the colonial heartland as the fourth idea, also a further boost to the main colonisers like England and France, to guarantee the 4th idea is exploration
		modifier = {
			factor = 100
			technology_group = high_american
		}	#If you're going to go alt history high american, you might as well go for it
		modifier = {
			factor = 2.0
			is_great_power = yes
			adm_tech = 18
		}	#Generally more likely for Great Powers once the scope and wealth of the New World became apparent (as a fifth idea, probably in the 1630s, or maybe late 1600s for an Asian tag.) Note the x2 here and x2 from ports may or may not be enough to offset the non European maluses, I'm not sure.
		modifier = {
			factor = 5
			num_of_owned_provinces_with = {
				value = 5
				OR = {
					area = lower_andalucia_area
					area = alentejo_area
					area = beieras_area
					area = galicia_area
					area = asturias_area
					area = basque_country
					area = macaronesia_area
				}
				has_port = yes
			}
		}	#More likely with coastlines for first idea (in the right places, unlike vanilla, which encouraged the Ottomans too much with x16.) Number of ports beyond 5 not important (Colonial ambitions rarely had to do with the number of ports, just look at the Netherlands, or even Portugal) 
		modifier = {
			factor = 2
			num_of_owned_provinces_with = {
				value = 5
				OR = {
					region = france_region
					region = british_isles_region
					region = low_countries_region
					region = ireland_region # Brian; changed from _area
				}
				has_port = yes
			}
			adm_tech = 14			#As a fourth idea, probably in the 1580s
		}	#More likely with coastlines for fourth idea (in the right places, unlike vanilla, which encouraged the Ottomans too much with x16.) Number of ports beyond 5 not important (Colonial ambitions rarely had to do with the number of ports, just look at the Netherlands, or even Portugal)
		modifier = {
			factor = 2.0
			num_of_ports = 20
			adm_tech = 14			#As a fourth idea, probably in the 1580s
		}	#Adopted from vanilla. I didn't like the x16 due to number of ports regardless of where they were, but I suppose a country with a massive number of ports may be likely to start exploring more than a country with only a few small ports. Also only works for fourth idea or later to prevent some oddities
		modifier = {
			factor = 2.0
			owns_core_province = 224			#Sevilla - First major, and probably greatest, of the colonial ports
		}	#Stacking dynamic bonuses for owning specific colonial ports
		modifier = {
			factor = 2.0
			owns_core_province = 227			#Lisbon - origin of much of the early Portuguese exploration, and a very important colonial port
		}	#Stacking dynamic bonuses for owning specific colonial ports
		modifier = {
			factor = 2.0
			owns_core_province = 239			#Gloucester - primary English port for early New World exploration and a major colonial port
		}	#Stacking dynamic bonuses for owning specific colonial ports
		modifier = {
			factor = 2.0
			owns_core_province = 367			#Azores - An important stopover, and the closest point to the New World
		}	#Stacking dynamic bonuses for owning specific colonial ports
		modifier = {
			factor = 2.0
			owns_core_province = 366			#Canaries - An important stopover, and where an insanely high per capita percentage of early colonists were recruited
		}	#Stacking dynamic bonuses for owning specific colonial ports
		modifier = {
			factor = 2.0
			owns_core_province = 174			#Bordeaux - Just to give one to France. Unlike most other countries, I don't believe French colonial efforts all ran through a single port, but the west coast was generally active (as was Normandy and Brittany, I suppose, oh well)
		}	#Stacking dynamic bonuses for owning specific colonial ports
		modifier = {
			factor = 2.0
			owns_core_province = 97			#Amsterdam - Major colonial port and final destination of many if not most goods
		}	#Stacking dynamic bonuses for owning specific colonial ports
		modifier = {
			factor = 2
			is_colonial_nation = no
			num_of_owned_provinces_with = {
				value = 5
				has_empty_adjacent_province = yes
				is_in_capital_area = yes
			}
		}	#For non colonial countries with 5 or more provinces with a direct land connection to the capital and uncolonised neighbours. In 1444, this is just Uzbek, but will likely include Russia and any American/African/Siberian tags who manage to conquer a good chunck of their neighbours
		modifier = {
			factor = 0.2
			NOT = { total_development = 200 }
		}	#Malus against smaller countries to discourage a few tags like Irish minors, Brittany, Grenada, Iceland, or other unexpected nations. Not enough to prevent it if other factors encourage it.
		modifier = {
			factor = 0.1
			NOT = { is_year = 1490 }
		}	#Extremely unlikely before 1490, requiring massive bonuses (like Iberia has) to overcome the malus
		modifier = {
			factor = 0.2
			capital_scope = {
				NOT = {
					region = france_region
					region = iberia_region
					region = british_isles_region
					region = low_countries_region
					region = ireland_region # Brian; changed from _area
				}
			}
			NOT = { adm_tech = 14 }
		}	#Very unlikely if not western Europe before the fourth idea (this is when Russia should choose exploration, in the late 1500s or early 1600s). Also note eastern and northern Europe came later, and were never as big, but they did try their hand at colonialism, too, so the malus should be mostly removed after this
		modifier = {
			factor = 0.2
			capital_scope = { NOT = { continent = europe } }
		}	#Very unlikely if not European (I know people love seeing Asian tags in NA, but the fact is it never even came close to happening historically until the 20th century, so I'm not programming it in. A player in Asia can still colonise normally, the AI just wont usually, though a great power might occasionally.)
		modifier = {
			factor = 0.1
			is_great_power = yes
			NOT = { tag = ADU }
			OR = {
				technology_group = ottoman
				technology_group = muslim
			}			
		}	#Extremely unlikely if is an AI Great Power with Ottoman or Muslim tech group (this is mostly to reduce the chance AI Ottomans and Mamluks will pick these in majority of games while being Great Powers, but give a very small window of opportunity for non-GP tags with these tech groups. Excluded Andalusia in the case it forms.)
		modifier = {
			factor = 0.01
			NOT = { has_institution = new_world_i }
			NOT = { technology_group = western }
			NOT = { technology_group = high_american }
		}	#Nearly impossible without colonialism unless western or high american tech
		modifier = {
			factor = 0
			is_colonial_nation = yes
		}	#From vanilla, because we don't want Canada to have land in Asia, Mexico to have land in Africa, or Australia to colonise Siberia. Colonial nations expand with expansion instead.
		modifier = {
			factor = 0.1
			is_subject = yes
		}	#Now less likely, but not impossible, for subjects to form colonies (happened historically, actually, with the Netherlands, Scotland, and others)
		modifier = {
			factor = 0
			is_tribal = yes
		}	#Normal from vanilla
		modifier = {
			factor = 0
			primitives = yes
		}	#Normal from vanilla
		modifier = {
			factor = 0
			NOT = { num_of_ports = 1 }
			NOT = {
				any_owned_province = { 
					is_in_capital_area = yes
					has_empty_adjacent_province = yes
				} 
			}
		}	#Normal from vanilla
		modifier = {
			factor = 0.1
			NOT = { num_of_ports = 3 }
			NOT = {
				any_owned_province = { 
					is_in_capital_area = yes
					has_empty_adjacent_province = yes
				} 
			}
		}	#Normal from vanilla, adjusted
		modifier = {
			factor = 0.5
			NOT = { num_of_ports = 5 }
			NOT = {
				any_owned_province = { 
					is_in_capital_area = yes
					has_empty_adjacent_province = yes
				} 
			}
		}	#Normal from vanilla, adjusted
		#Concerned below may be too performance heavy, and will probably never really be needed.
		#modifier = {
		#	factor = 0
		#	NOT = {
		#		any_province = {
		#			limit = { has_discovered = ROOT }
		#			is_empty = yes
		#		}
		#		technology_group = western
		#	}
		#}	#If the tag is not western tech and knows no empty provinces it will never choose exploration. This is unlikely, but I don't want to see a bunch of tags picking explore late game when somehow everything coastal is colonised. Need an exception for west or otherwise may never discover the New World
	}
}


maritime_ideas = {
	category = DIP

	trigger = {
		primitives = no
	}

	bonus = {
		sea_repair = yes
		movement_speed_in_fleet_modifier = 1 
	}

	merchant_traditions = {
		naval_tradition_from_trade = 1.0
		trade_range_modifier = 0.25
	}
	merchant_marine = {
		global_sailors_modifier = 0.5
		allowed_marine_fraction = 0.25
	}
	sheltered_ports = {
		global_ship_repair = 0.1
		sailor_maintenance_modifer = -0.1
	}
	grand_navy = {
		naval_forcelimit_modifier = 0.5
		ship_power_propagation = 0.25
	}
	ships_penny = {
		global_ship_cost = -0.1
	}
	sea_hawks = {
		global_naval_engagement_modifier = 0.1
		admiral_cost = -0.25
	}
	naval_fighting_instruction = {
		blockade_efficiency = 0.5
		privateer_efficiency = 0.25
	}

	ai_will_do = {
		factor = 0.41
		modifier = {
			factor = 0
			is_tribal = yes
		}
		modifier = {
			factor = 0
			primitives = yes
		}
		modifier = {
			factor = 0
			NOT = { num_of_ports = 1 }
		}
		modifier = { #More likely if above 500 coastal dev.
			factor = 0.41
			NOT = { 
				development_in_provinces = {
					value = 100
					has_port = yes
				}
			}
		}
		modifier = { #More likely if above 500 coastal dev.
			factor = 0.41
			NOT = { 
				development_in_provinces = {
					value = 200
					has_port = yes
				}
			}
		}
		modifier = { #More likely if above 500 coastal dev.
			factor = 2
			development_in_provinces = {
				value = 500
				has_port = yes
			}
		}
		modifier = { #More likely if above 25 light ships.
			factor = 2
			num_of_light_ship = 25
		}
		modifier = { #More likely if above 50 light ships.
			factor = 2
			num_of_light_ship = 50
		}

		modifier = {
			factor = 10
			OR = {
				has_reform = pirate_republic_reform
				has_reform = pirate_kingdom
				has_reform = war_against_the_world_government
				has_reform = black_market_consortium_government
			}
		}
		modifier = { #If Navigator, slightly nudge.
			factor = 2
			ruler_has_personality = navigator_personality
		}
		modifier = { #If you have light ship combat ability in your ideas, this makes sense.
			factor = 2
			has_global_modifier_value = {
				which = light_ship_power
				value = 0.1
			}
		}
		modifier = {
			factor = 2.5
			has_government_attribute = is_pirate_republic_reform
		}
	}
}


quality_ideas = {
	category = MIL

	bonus = {
		discipline = 0.05
		janissaries_loyalty_modifier = 0.1
		ghulams_loyalty_modifier = 0.1
	}

	private_to_marshal = {
		infantry_power = 0.1
	}
	quality_education = {
		army_tradition = 0.5
		navy_tradition = 0.5
	}
	finest_of_horses = {
		cavalry_power = 0.1
	}
	escort_ships = {
		ship_durability = 0.05
	}
	naval_drill = {
		naval_morale = 0.10
	}
	copper_bottoms = {
		naval_attrition = -0.25
	}
	massed_battery = {
		artillery_power = 0.1
	}

	ai_will_do = {
		factor = 3.5
		modifier = { #If you have infantry combat ability in your ideas, this makes sense.
			factor = 3
			has_global_modifier_value = {
				which = infantry_power
				value = 0.1
			}
		}
		modifier = { #If you have cavalry combat ability in your ideas, this makes sense.
			factor = 2
			has_global_modifier_value = {
				which = cavalry_power
				value = 0.1
			}
		}
		modifier = { #If you have artillery combat ability in your ideas, this makes sense.
			factor = 3
			has_global_modifier_value = {
				which = artillery_power
				value = 0.1
			}
		}
		modifier = { #If you have infantry combat ability in your ideas, this makes sense.
			factor = 3
			has_global_modifier_value = {
				which = infantry_power
				value = 0.2
			}
		}
		modifier = { #If you have cavalry combat ability in your ideas, this makes sense.
			factor = 2
			has_global_modifier_value = {
				which = cavalry_power
				value = 0.2
			}
		}
		modifier = { #If you have artillery combat ability in your ideas, this makes sense.
			factor = 3
			has_global_modifier_value = {
				which = artillery_power
				value = 0.2
			}
		}
		modifier = { #If you have discipline in your ideas, this makes sense.
			factor = 2
			has_global_modifier_value = {
				which = discipline
				value = 0.05
			}
		}
		modifier = { #If you have discipline in your ideas, this makes sense.
			factor = 2
			has_global_modifier_value = {
				which = discipline
				value = 0.1
			}
		}
		modifier = { #If Strict or Martial Educator, slightly nudge.
			factor = 2
			OR = {
				ruler_has_personality = strict_personality				
				ruler_has_personality = martial_educator_personality
			}
		}
		#If you have high army professionalism, pick this up (Don't think this'll make a difference).
		modifier = { 
			factor = 2
			army_professionalism = 0.20
		}
		modifier = {
			factor = 2
			army_professionalism = 0.40
		}
		modifier = {
			factor = 2
			army_professionalism = 0.60
		}
		modifier = {
			factor = 2
			army_professionalism = 0.80
		}
		modifier = {
			factor = 2
			army_professionalism = 1.00
		}
		modifier = { 
			factor = 0.75
			NOT = { monthly_mil = 8 }
		}
		modifier = { 
			factor = 1.05
			is_great_power = yes 
		}
		modifier = { 
			factor = 1.05
			national_focus = MIL 
		}
		modifier = { 
			factor = 1.1
			personality = ai_militarist  
		}
		modifier = {
			factor = 1.05
			OR = {
				has_idea_group = infrastructure_ideas
				has_idea_group = economic_ideas
			}
		}
	}
}


quantity_ideas = {
	category = MIL

	bonus = {
		land_forcelimit_modifier  = 0.33
		num_of_pronoiars = 1
	}
	mass_army = {
		global_manpower_modifier = 0.33
		num_of_pronoiars = 1
	}
	the_young_can_serve = {
		manpower_recovery_speed = 0.20
	}
	enforced_service = {
		global_regiment_cost = -0.1
	}
	camp_followers = {
		global_supply_limit_modifier = 0.33
	}
	reinforcement_drafts = {
		reinforce_cost_modifier = -0.33
	}
	the_old_and_infirm = {
		land_maintenance_modifier = -0.1 #BT doubled to counterbalance below.
	}
	expanded_supply_trains = {	#Vanilla buffed to -0.25, I think that's a bit too much and so will change it to -0.15. -Hadiros
		land_attrition = -0.15
	}

	ai_will_do = {
		factor = 3.5
		modifier = {
			factor = 2
			has_strong_mil_national_ideas = yes 
		}
		modifier = { 
			factor = 0.75
			NOT = { monthly_mil = 8 }
		}
		modifier = { 
			factor = 1.05
			is_great_power = yes 
		}
		modifier = { 
			factor = 1.05
			national_focus = MIL 
		}
		modifier = { 
			factor = 1.1
			personality = ai_militarist  
		}
		modifier = { 
			factor = 1.25
			OR = { 
				has_global_modifier_value = { 
					which = global_manpower_modifier 
					value = 0.2
				}
				has_global_modifier_value = { 
					which = land_forcelimit_modifier 
					value = 0.15
				}
			}
		}
		modifier = {
			factor = 1.05
			OR = {
				has_idea_group = trade_ideas
				has_idea_group = economic_ideas
			}
		}
		modifier = { #Don't pick this if you have two loans.
			factor = 0.1
			num_of_loans = 2
		}
	}
}


expansion_ideas = {
	category = ADM
	important = yes

	bonus = {
 		min_autonomy_in_territories = -0.1
	}

	additional_colonists = {
		colonists = 1
		effect = { remove_temporary_colonist = yes }
	}
	additional_merchants = {
		merchants = 1
	}
	faster_colonists = {
		global_colonial_growth = 20
	}
	vice_roys  = {
		global_tariffs = 0.10
 		envoy_travel_time = -0.20
 	}
	additional_diplomats = {
		diplomatic_upkeep = 1 # BT; diplomats = 1
		reduced_liberty_desire_on_other_continent = 5
	}
	general_colonization_law  = {
		colonists = 1
		colonist_placement_chance = 0.05
		effect = { remove_temporary_colonist = yes }
	}
	competetive_merchants  = {
		global_trade_power = 0.2
	}

	ai_will_do = {
		factor = 0.48
		#BTAddOn removed - overhauled modifiers for expansion below
		#modifier = {
		#	factor = 10
		#	OR = {
		#		has_idea_group = exploration_ideas
		#		is_colonial_nation = yes
		#	}
		#}
		#modifier = {
		#	factor = 5
		#	OR = {
		#		tag = CAS
		#		#tag = POR			#BTAddOn removed - Portugal's colonies grew up more than out, and the only big one was Brazil. Exploration already has 2 colonists, AI Portugal doesn't need more than that.
		#		tag = SPA
		#	}
		#}
		#modifier = {
		#	factor = 10
		#	NOT = { has_dlc = "Third Rome" } # Has siberian frontier instead
		#	tag = RUS
		#	num_of_cities = 20
		#	any_owned_province = {
		#		has_empty_adjacent_province = yes
		#	}
		#}
		#modifier = {
		#	factor = 0
		#	NOT = { has_idea_group = exploration_ideas }
		#	NOT = { is_colonial_nation = yes }
		#	NOT = {
		#		any_owned_province = {
		#			has_empty_adjacent_province = yes
		#		}
		#	}
		#}
		#modifier = {
		#	factor = 0.1
		#	NOT = {
		#		technology_group = western
		#		technology_group = eastern
		#		technology_group = muslim
		#	}
		#}
		#BTAddOn New Modifiers below
		#Note I'm not making this a copy of exploration, as it should be the landlocked, Colonial, African, and Siberian option, the AI only taking both in special cases like Spain and Russia.
		modifier = {
			factor = 20
			OR = {
				tag = NOV			#Was expanding like mad even before the start date, and continued until its conquest in 1478 (more or less forming Russia in first half of the 16th century, which then continued expanding)
			}
			adm_tech = 5
		}	#Bonus for historical countries at the first idea (Approximately year 1466).
		modifier = {
			factor = 20
			OR = {
				tag = CAS			#Historically expanded like mad (mostly as Spain), note this tag also takes exploration as idea 1.
				tag = SPA			#Historically expanded like mad, note this tag also takes exploration as idea 1.
			}
			adm_tech = 7
		}	#Bonus for historical countries at the second idea (Approximately year 1492).
		modifier = {
			factor = 20
			tag = RUS			#The largest land empire in the world with contiguous borders... yeah, it expanded.
			adm_tech = 14
		}	#Bonus for historical countries at the fourth idea (Approximately year 1583)
		modifier = {
			factor = 10
			primary_culture = russian			#In case Russia doesn't form in a timely manner, any Russian culture polity with ports or uncolonised neighbouring provinces should start expanding
			adm_tech = 18
		}	#Bonus for historical countries at the fifth idea (Approximately year 1635)
		modifier = {
			factor = 10
			is_colonial_nation = yes
			num_of_cities = 10
		}	#For large colonial nations (who already give a bonus merchant and other bonuses) to expand on their own
		modifier = {
			factor = 5
			colony = 1
			is_great_power = yes
		}	#For large colonial parents with enough people to be able to realistically expand their overseas colonies.
		modifier = {
			factor = 5
			is_colonial_nation = no
			num_of_owned_provinces_with = {
				value = 5
				has_empty_adjacent_province = yes
				is_in_capital_area = yes
			}
		}	#For non colonial countries with 5 or more provinces with a direct land connection to the capital and uncolonised neighbours. In 1444, this is just Uzbek, but will likely include Russia and any American/African/Siberian tags who manage to conquer a good chunck of their neighbours
		modifier = {
			factor = 2
			has_idea = land_of_opportunity			#(The 4th idea in exploration)
		}	#If the tag has exploration ideas, choosing expansion to expand further becomes more likely (but nothing like vanilla x10)
		modifier = {
			factor = 0.01
			NOT = {
				technology_group = western
				technology_group = eastern
				has_institution = new_world_i
			}
		}	#Almost impossible before embracing colonialism, unless western or eastern tech
		modifier = {
			factor = 0.05
			NOT = {
				technology_group = western
				technology_group = eastern
				tag = MOR
				total_development = 300
			}
		}	#Very unlikely if not western tech, eastern tech, Morocco, or very high development
		modifier = {
			factor = 0
			AND = {
				NOT = { has_idea_group = exploration_ideas }
				NOT = { any_owned_province = { has_empty_adjacent_province = yes } }
			}
		}	#If the tag has no neighbouring empty province and does not have exploration, it will not choose expansion.
	}
}


administrative_ideas = {
	category = ADM

	bonus = {
		governing_capacity_modifier = 0.2
		eunuchs_loyalty_modifier = 0.1
	}

	administrative_council = {
		adm_advisor_cost = -0.25 
	}
	local_rule = {
		advisor_pool = 1
		num_of_pronoiars = 1
	}
	adaptability = {
		core_creation = -0.25
	}
	cultural_regulations = {
		promote_culture_cost = -0.1 #BT Nerfed from -0.3 as part of Accepted Culture Slots overhaul
	}
	stable_government = {
		stability_cost_modifier = -0.25 
	}
	centralization = {
		global_autonomy = -0.05
	}
	civil_servants = {
		adm_tech_cost_modifier = -0.1
	}

	ai_will_do = {
		factor = 0.65
		modifier = {
			factor = 2
			has_strong_mil_national_ideas = yes 
		}
		modifier = { 
			factor = 0.75
			NOT = { monthly_adm = 8 }
		}
		modifier = { 
			factor = 1.05
			is_great_power = yes 
		}
		modifier = { 
			factor = 1.05
			national_focus = ADM 
		}
		modifier = { 
			factor = 1.1
			personality = ai_militarist  
		}
		modifier = { 
			factor = 1.25
			OR = { 
				has_global_modifier_value = { 
					which = core_creation 
					value = 0.15
				}
				has_reform = livonian_military_monarchy
				has_reform = prussian_theocratic_reform
				has_reform = prussian_republic_reform
				has_reform = prussian_monarchy
				has_reform = prussian_monarchy_base
				governing_capacity_percentage = 0.9
			}
		}	
		modifier = {
			factor = 2
			has_reform = steppe_horde
		}
		modifier = { #If Lawgiver or Expansionist, slightly nudge.
			factor = 2
			OR = {
				ruler_has_personality = lawgiver_personality				
				ruler_has_personality = expansionist_personality
			}
		}
	}
}

humanist_ideas = {
	category = ADM

	bonus = {
		idea_cost = -0.1
		yearly_harmony = 0.25  # Used if religion uses harmony (confucianism)
		brahmins_muslim_loyalty_modifier = 0.1
		dhimmi_loyalty_modifier = 0.1
	}

	local_traditions = {
		global_unrest = -2
		harmonization_speed = 0.25
	}
	indirect_rule = {
		years_of_nationalism = -10
	}
	ecumenism = {
		tolerance_heretic = 2
	}
	cultural_ties = {
		#num_accepted_cultures = 3 #BT buff because more detailed culturemap
		promote_culture_cost = -0.5 #BT Accepted Culture Slots overhaul. This is the main modifier to give players the option to promote cultures properly.
	}
	humanist_tolerance = {
		tolerance_heathen = 2
		religious_unity = 0.2
	}
	benevolence = {
		improve_relation_modifier = 0.3
	}
	tolerance_idea = {
		tolerance_of_heretics_capacity = 1 
		tolerance_of_heathens_capacity = 1
	}

	ai_will_do = {
		factor = 0.9
		modifier = {
			factor = 0
			has_idea_group = religious_ideas
		}
		modifier = { #Pick up if you're a tolerant nation.
			factor = 4
			has_global_modifier_value = {
				which = tolerance_heretic
				value = 0
			}
		}
		modifier = { #Pick up if you're a tolerant nation.
			factor = 4
			has_global_modifier_value = {
				which = tolerance_heathen
				value = 0
			}
		}
		modifier = { #More likely if Enlightenment has been embraced (Though I don't think a nation will go without religious nor humanist ideas at this point)
			factor = 2
			has_institution = enlightenment
		}
		modifier = { #If Lawgiver or Expansionist, slightly nudge.
			factor = 2
			OR = {
				ruler_has_personality = lawgiver_personality				
				ruler_has_personality = expansionist_personality
			}
		}
		modifier = { #More accepted cultures means more humanism.
			factor = 3
			num_accepted_cultures = 3
		}
		#Dhimmi influence influences the influence on the AI factor
		modifier = {
			factor = 0.5
			has_estate = estate_dhimmi
			NOT = {
				estate_influence = {
					estate = estate_dhimmi
					influence = 40
				}
			}
		}
		modifier = {
			factor = 2
			has_estate = estate_dhimmi
			estate_influence = {
				estate = estate_dhimmi
				influence = 50
			}
		}
		modifier = {
			factor = 2
			has_estate = estate_dhimmi
			estate_influence = {
				estate = estate_dhimmi
				influence = 75
			}
		}
		#Brahmin influence influences the influence on the AI factor, but only if Dhimmi is not present.
		modifier = {
			factor = 0.5
			has_estate = estate_brahmins
			NOT = { has_estate = estate_dhimmi }
			NOT = {
				estate_influence = {
					estate = estate_brahmins
					influence = 40
				}
			}
		}
		modifier = {
			factor = 2
			has_estate = estate_brahmins
			NOT = { has_estate = estate_dhimmi }
			estate_influence = {
				estate = estate_brahmins
				influence = 50
			}
		}
		modifier = {
			factor = 2
			has_estate = estate_brahmins
			NOT = { has_estate = estate_dhimmi }
			estate_influence = {
				estate = estate_brahmins
				influence = 75
			}
		}
		modifier = {
			factor = 0.75
			NOT = { monthly_adm = 8 }
		}
		modifier = {
			factor = 1.25
			religion = confucianism
		}
		modifier = {
			factor = 1.1 
			national_focus = ADM 
		}
		modifier = {
			factor = 1.25
			has_idea_group = offensive_ideas 
		}
	}
}

influence_ideas = {
	category = DIP

	bonus = {
		unjustified_demands = -0.5
		dev_points_from_subjects_modifier = 1
	}

	tribute_system = {
		vassal_income = 0.25
	}
	
	additional_loyalist_recruitment = {
		reduced_liberty_desire = 15
		vassal_naval_forcelimit_bonus = 0.1
	}
	
	integrated_elites = {
		diplomatic_annexation_cost = -0.25
	}
	buffer_states = {
		diplomatic_upkeep = 1
	}
	diplomatic_influence = {
		diplomatic_reputation = 2
	}
	postal_service = {
		envoy_travel_time = -0.25
		liberty_desire_from_subject_development = -0.1
	}
	marcher_lords = {
		vassal_forcelimit_bonus = 1
	}

	ai_will_do = {
		factor = 0.5
		modifier = {
			factor = 1.5
			is_emperor = yes
		}
		modifier = {
			factor = 1.5
			num_of_subjects = 2
		}
		modifier = {
			factor = 1.5
			num_of_subjects = 3
		}
		modifier = {
			factor = 0.75
			NOT = { monthly_dip = 8 }
		}
		modifier = { #If Well-Connected or Fertile, slightly nudge.
			factor = 2
			OR = {
				ruler_has_personality = well_connected_personality				
			#	ruler_has_personality = fertile_personality
			}
		}
	}
}

naval_ideas = {
	category = MIL

	trigger = {
		primitives = no
	}

	bonus = {
		global_naval_barrage_cost = -1
		disengagement_chance = 0.15
	}

	boarding_parties = {
		leader_naval_shock = 1
		landing_penalty = -1
	}
	improved_rams = {
		galley_power = 0.25
	}
	naval_cadets = {
		leader_naval_fire = 1
		sunk_ship_morale_hit_recieved = -0.33
	}
	naval_glory = {
		navy_tradition = 1
		siege_blockade_progress = 1
	}
	press_gangs = {
		sailors_recovery_speed = 0.25
		allowed_marine_fraction = 0.25
	}
	oak_forests_for_ships = {
		heavy_ship_power = 0.20
		ship_durability = 0.1
	}
	superior_seamanship = {
		naval_morale = 0.1
		global_naval_engagement_modifier = 0.1
	}

	ai_will_do = {
		factor = 0.45
		modifier = {
			factor = 0
			is_tribal = yes
		}
		modifier = {
			factor = 0
			primitives = yes
		}
		modifier = {
			factor = 0
			NOT = { num_of_ports = 1 }
			NOT = { is_colonial_nation = yes }
		}
		modifier = { #More likely if above 500 coastal dev.
			factor = 0.31
			NOT = { 
				development_in_provinces = {
					value = 100
					has_port = yes
				}
			}
		}
		modifier = { #More likely if above 500 coastal dev.
			factor = 0.31
			NOT = { 
				development_in_provinces = {
					value = 200
					has_port = yes
				}
			}
		}
		modifier = { #More likely if above 500 coastal dev.
			factor = 2
			development_in_provinces = {
				value = 500
				has_port = yes
			}
		}
		modifier = { #More likely if above 10 heavies or 50 galleys.
			factor = 2
			OR = {
				num_of_heavy_ship = 10
				num_of_galley = 50
			}
		}
		modifier = { #More likely if above 20 heavies or 100 galleys.
			factor = 2
			OR = {
				num_of_heavy_ship = 20
				num_of_galley = 100
			}
		}

		modifier = {
			factor = 10
			has_government_attribute = is_pirate_republic_reform
		}
		modifier = { #If you have heavy ship or galley combat ability in your ideas, this makes sense.
			factor = 2
			OR = {
				has_global_modifier_value = {
					which = heavy_ship_power
					value = 0.1
				}
				has_global_modifier_value = {
					which = galley_power
					value = 0.1
				}
			}
		}
	}
}

court_ideas = { #New in 1.3X. Seems weak. Could do with a rebalance. //Dub
	category = DIP


	bonus = {
		legitimacy = 0.5 
		republican_tradition = 0.2
		devotion = 0.5 
		horde_unity = 0.5
		meritocracy = 0.25 
		imperial_mandate = 0.1
		imperial_authority = 0.05
		monthly_cultural_unity = 0.5
	}
	
	long_echo = {
		power_projection_from_insults = 1
		diplomatic_reputation = 1
	}
	recognize_hierarchy = {
		all_estate_loyalty_equilibrium = 0.1
		loyalty_change_on_revoked = 0.05
	}
	welcoming_ceremonies = {
		prestige = 1 
		monthly_persian_influence = 0.1
	}
	tranquil_coordination = {
		reform_progress_growth = 0.2
	}
	respected_authority = {
		all_estate_possible_privileges = 1
	}
	palace_of_splendor = {
		monthly_splendor = 2 
		estate_interaction_cooldown_modifier = -0.20
	}
	court_embassies = {
		possible_dip_policy = 1 
		monarch_diplomatic_power = 1 
	}

	ai_will_do = {
		factor = 0.5
		modifier = {
			factor = 1.25
			num_of_powerful_estates = 3 
		}
		modifier = {
			factor = 1.2
			personality = ai_diplomat
		}
		modifier = {
			factor = 1.1 
			national_focus = DIP 
		}
		modifier = {
			factor = 0.75
			NOT = { monthly_dip = 8 } 
		}
	}
}

mercenary_ideas = { #New in 1.3X. Seems... pretty powerful, though given it competes against mil ideas, it makes sense. //Dub
	category = MIL 

	bonus = {
		mercenary_discipline = 0.05
		possible_condottieri = 1 
	}

	organised_mercenary_payment = {
		mercenary_cost = -0.25
	}
	war_council = {
		mil_advisor_cost = -0.25
		merc_independent_from_trade_range = yes
	}
	expanded_contracts = {
		merc_maintenance_modifier = -0.25
	}
	nation_of_war = {
		mil_tech_cost_modifier = -0.1
	}
	benefits_for_mercenaries = {
		war_taxes_cost_modifier = -0.5
		merc_leader_army_tradition = 0.5
	}
	seasoned_veterans = {
		infantry_power = 0.1
	}
	organised_mercenary_recruitment = { 
		mercenary_manpower = 0.3
		allow_mercenary_drill = yes
	}

	ai_will_do = {
		factor = 0
	}
}

infrastructure_ideas = { #New in 1.3X. It's just like administrative ideas in that it has one OP modifier. Rebalanced it for now. //Dub
	category = ADM
	

	bonus = {
		development_cost = -0.1
		expand_administration_cost = -1
	}

	state_efficiency = {
		global_prosperity_growth = 0.25
		state_maintenance_modifier = -0.33
	}
	organised_construction = {
		build_cost = -0.1 
		build_time = -0.25
	}
	efficient_construction_plans = {
		max_dev_points = 100
		expand_infrastructure_cost_modifier = -0.25
	}
	expanded_infrastructure_network = {
		#movement_speed = 0.1
		development_cost_modifier = -0.05
		center_of_trade_upgrade_cost = -0.2
	}
	administrative_efficiency_idea = { 
		administrative_efficiency = 0.025
		#state_governing_cost = -0.1 #This is a bad modifier. //Dub
	}
	fort_logistics = {
		fort_maintenance_modifier = -0.25
 	}
	regulation_bureau = {
		local_dev_points_modifier = 0.2
	}

	ai_will_do = {
		factor = 0.7
		modifier = {
			factor = 1.1 
			personality = ai_capitalist
		}
		modifier = {
			factor = 1.1
			national_focus = ADM 
		}
		modifier = { 
			factor = 0.75 
			NOT = { monthly_adm = 8 }
		}
		modifier = {
			factor = 1.15
			OR = {
				has_idea_group = trade_ideas
				has_idea_group = naval_ideas
			}
		}
	}
}